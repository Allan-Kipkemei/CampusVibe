{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { FontAwesome5, Feather, Ionicons, MaterialIcons } from '@expo/vector-icons';\nimport { db } from \"../firebase/firebase\";\nimport { deleteDoc, doc, collection, getDoc, updateDoc, serverTimestamp, onSnapshot, where, setDoc, query } from 'firebase/firestore';\nimport { useSelector } from 'react-redux';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ThreeDot = function ThreeDot(_ref) {\n  var postId = _ref.postId,\n    postUserId = _ref.postUserId;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    modalVisible = _useState2[0],\n    setModalVisible = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setLoading = _useState4[1];\n  var userProfile = useSelector(function (state) {\n    return state.userProfile;\n  });\n  var currentUserId = userProfile.userId;\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isFollowing = _useState6[0],\n    setIsFollowing = _useState6[1];\n  var isCurrentUserPost = currentUserId === postUserId;\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    followingMe = _useState8[0],\n    setFollowingMe = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    isPinned = _useState10[0],\n    setPinned = _useState10[1];\n  var handleDelete = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        yield deleteDoc(doc(db, 'Posts', postId));\n        console.log('Post deleted successfully!');\n      } catch (error) {\n        console.error('Error deleting post: ', error);\n      }\n      setLoading(false);\n      setModalVisible(false);\n    });\n    return function handleDelete() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  if (!isCurrentUserPost) {\n    useEffect(function () {\n      var userDocRef = doc(db, 'userProfiles', currentUserId);\n      var followingRef = collection(userDocRef, 'following');\n      var followersRef = collection(userDocRef, 'followers');\n      var followingUnsubscribe = onSnapshot(query(followingRef, where('userId', '==', postUserId)), function (snapshot) {\n        setIsFollowing(!snapshot.empty);\n      });\n      var followersUnsubscribe = onSnapshot(query(followersRef, where('userId', '==', postUserId)), function (snapshot) {\n        setFollowingMe(!snapshot.empty);\n      });\n      return function () {\n        followingUnsubscribe();\n        followersUnsubscribe();\n      };\n    }, [postUserId, currentUserId]);\n  }\n  var handleFollow = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var userDocRef = doc(db, 'userProfiles', currentUserId);\n      var userDocRef2 = doc(db, 'userProfiles', postUserId);\n      var followingRef = collection(userDocRef, 'following');\n      var followersRef = collection(userDocRef2, 'followers');\n      if (isFollowing) {\n        try {\n          yield deleteDoc(doc(followingRef, postUserId));\n          yield deleteDoc(doc(followersRef, currentUserId));\n          setIsFollowing(false);\n        } catch (error) {\n          console.error('Error following/unfollowing user: ', error);\n        }\n      } else {\n        try {\n          yield setDoc(doc(followingRef, postUserId), {\n            createdAt: serverTimestamp(),\n            userId: postUserId\n          });\n          yield setDoc(doc(followersRef, currentUserId), {\n            createdAt: serverTimestamp(),\n            userId: currentUserId\n          });\n          setIsFollowing(true);\n        } catch (error) {\n          console.error('Error following/unfollowing user: ', error);\n        }\n      }\n      ;\n    });\n    return function handleFollow() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handlePin = function handlePin() {};\n  function handleSave() {}\n  function handleReport() {}\n  function handleRepost() {}\n  return _jsxs(View, {\n    style: styles.postContainer,\n    children: [_jsx(TouchableOpacity, {\n      style: styles.optionsButton,\n      onPress: function onPress() {\n        return setModalVisible(true);\n      },\n      children: _jsx(FontAwesome5, {\n        name: \"ellipsis-v\",\n        size: 14,\n        color: \"#a0a0a0\"\n      })\n    }), _jsx(Modal, {\n      animationType: \"slide\",\n      transparent: true,\n      visible: modalVisible,\n      children: _jsxs(View, {\n        style: styles.modalContainer,\n        children: [!isCurrentUserPost ? _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: handleRepost,\n          children: [_jsx(Feather, {\n            name: \"repeat\",\n            size: 20,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: \"Repost\"\n          })]\n        }) : null, isCurrentUserPost ? _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: handleRepost,\n          children: [_jsx(Feather, {\n            name: \"edit\",\n            size: 20,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: \"Edit \"\n          })]\n        }) : null, isCurrentUserPost ? _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: handlePin,\n          children: [_jsx(FontAwesome5, {\n            name: \"map-pin\",\n            size: 20,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: isPinned ? 'Pin to my profile' : 'Unpin from profile'\n          })]\n        }) : null, isCurrentUserPost ? _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: handleDelete,\n          children: [isLoading ? _jsx(ActivityIndicator, {\n            size: 'small',\n            color: '#2696b8'\n          }) : _jsx(MaterialIcons, {\n            name: \"delete-outline\",\n            size: 24,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: \"Delete Post\"\n          })]\n        }) : _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: handleFollow,\n          children: [isFollowing ? _jsx(Feather, {\n            name: \"user-minus\",\n            size: 20,\n            color: \"black\"\n          }) : _jsx(Feather, {\n            name: \"user-plus\",\n            size: 20,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: isFollowing ? 'Unfollow' : 'Follow'\n          })]\n        }), !isCurrentUserPost ? _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: handleSave,\n          children: [_jsx(Feather, {\n            name: \"bookmark\",\n            size: 20,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: \"Add to favourites\"\n          }), isLoading && _jsx(ActivityIndicator, {\n            size: 'small',\n            color: '#2696b8'\n          })]\n        }) : null, !isCurrentUserPost ? _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: handleReport,\n          children: [_jsx(Feather, {\n            name: \"alert-triangle\",\n            size: 20,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: \"Report\"\n          })]\n        }) : null, _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: function onPress() {\n            return setModalVisible(false);\n          },\n          children: [_jsx(Ionicons, {\n            name: \"close\",\n            size: 24,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: \"Cancel\"\n          })]\n        })]\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  postContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 8\n  },\n  optionsButton: {\n    position: 'absolute',\n    right: 10,\n    top: 20,\n    padding: 5\n  },\n  modalContainer: {\n    borderWidth: 1,\n    borderColor: '#f0f0f0',\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: 'white',\n    borderTopLeftRadius: 25,\n    borderTopRightRadius: 25,\n    padding: 10\n  },\n  modalOption: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 16,\n    paddingHorizontal: 2\n  },\n  modalOptionText: {\n    fontWeight: '500',\n    marginLeft: 10\n  }\n});\nexport default ThreeDot;","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","TouchableOpacity","Modal","ActivityIndicator","FontAwesome5","Feather","Ionicons","MaterialIcons","db","deleteDoc","doc","collection","getDoc","updateDoc","serverTimestamp","onSnapshot","where","setDoc","query","useSelector","jsx","_jsx","jsxs","_jsxs","ThreeDot","_ref","postId","postUserId","_useState","_useState2","_slicedToArray","modalVisible","setModalVisible","_useState3","_useState4","isLoading","setLoading","userProfile","state","currentUserId","userId","_useState5","_useState6","isFollowing","setIsFollowing","isCurrentUserPost","_useState7","_useState8","followingMe","setFollowingMe","_useState9","_useState10","isPinned","setPinned","handleDelete","_ref2","_asyncToGenerator","console","log","error","apply","arguments","userDocRef","followingRef","followersRef","followingUnsubscribe","snapshot","empty","followersUnsubscribe","handleFollow","_ref3","userDocRef2","createdAt","handlePin","handleSave","handleReport","handleRepost","style","styles","postContainer","children","optionsButton","onPress","name","size","color","animationType","transparent","visible","modalContainer","modalOption","modalOptionText","create","flexDirection","alignItems","paddingHorizontal","paddingVertical","position","right","top","padding","borderWidth","borderColor","bottom","left","backgroundColor","borderTopLeftRadius","borderTopRightRadius","fontWeight","marginLeft"],"sources":["/home/leo/Documents/Campus-Vibes-V1/mobile/components/3-dotModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal, ActivityIndicator} from 'react-native';\nimport { FontAwesome5, Feather, Ionicons, MaterialIcons} from '@expo/vector-icons';\nimport { db } from '../firebase/firebase';\nimport { deleteDoc, doc,collection,getDoc, updateDoc, serverTimestamp, onSnapshot, where, setDoc, query        } from 'firebase/firestore';\nimport { useSelector } from 'react-redux';\n\n\nconst ThreeDot = ({ postId, postUserId }) => {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const userProfile = useSelector((state) => state.userProfile);\n  const currentUserId = userProfile.userId;\n  const [isFollowing, setIsFollowing] = useState(false);\n  const isCurrentUserPost = currentUserId === postUserId;\n  const [followingMe, setFollowingMe] = useState(false);\n  const [isPinned, setPinned] = useState(false)\n\n// if the post is owned by the current user\n  const handleDelete = async () => {\n    try {\n      setLoading(true);\n      await deleteDoc(doc(db, 'Posts', postId));\n      console.log('Post deleted successfully!');\n    } catch (error) {\n      console.error('Error deleting post: ', error);\n    }\n    setLoading(false);\n    setModalVisible(false);\n  };\n\n// If the post isnt owned by current user\n// Check if current user is following the post creator\n  if (!isCurrentUserPost) {\n    useEffect(() => {\n      const userDocRef = doc(db, 'userProfiles', currentUserId);\n      const followingRef = collection(userDocRef, 'following');\n      const followersRef = collection(userDocRef, 'followers');\n    \n      const followingUnsubscribe = onSnapshot(query(followingRef, where('userId', '==', postUserId)), (snapshot) => {\n        setIsFollowing(!snapshot.empty);\n      });\n    \n      const followersUnsubscribe = onSnapshot(query(followersRef, where('userId', '==', postUserId)), (snapshot) => {\n        setFollowingMe(!snapshot.empty);\n      });\n    \n      return () => {\n        followingUnsubscribe();\n        followersUnsubscribe();\n      };\n    }, [postUserId, currentUserId]);\n    }      \n\n\n// Handle function according to whether the current user is follwoing the post creator or not\nconst handleFollow = async () => {\n  const userDocRef = doc(db, 'userProfiles', currentUserId);\n  const userDocRef2 = doc(db, 'userProfiles', postUserId);\n  const followingRef = collection(userDocRef, 'following');\n  const followersRef = collection(userDocRef2, 'followers');\n  \n  if (isFollowing) {\n    try {\n      await deleteDoc(doc(followingRef, postUserId));\n      await deleteDoc(doc(followersRef, currentUserId))\n      setIsFollowing(false);\n    } catch (error) {\n      console.error('Error following/unfollowing user: ', error);\n    }\n  } else {\n    try {\n      await setDoc(doc(followingRef, postUserId), { createdAt: serverTimestamp(), userId: postUserId });\n      await setDoc(doc(followersRef, currentUserId), { createdAt: serverTimestamp(), userId: currentUserId });\n      setIsFollowing(true);\n    } catch (error) {\n      console.error('Error following/unfollowing user: ', error);\n    }\n  };\n}\n\nconst handlePin = () =>{\n  \n}\n\n\n\n\nfunction handleSave(){}\nfunction handleReport(){}\nfunction handleRepost(){}\n\n\n\n  return (\n    <View style={styles.postContainer}>\n      <TouchableOpacity style={styles.optionsButton} onPress={() => setModalVisible(true)}>\n        <FontAwesome5 name=\"ellipsis-v\" size={14} color=\"#a0a0a0\" />\n      </TouchableOpacity>\n\n      <Modal animationType=\"slide\" transparent={true} visible={modalVisible}>\n        <View style={styles.modalContainer}>\n          \n\n          {/* other menus here */}\n          {!isCurrentUserPost? (\n               <TouchableOpacity style={styles.modalOption} onPress={handleRepost}>\n                  <Feather name=\"repeat\" size={20} color=\"black\" />\n                  <Text style={styles.modalOptionText}>Repost</Text>\n               </TouchableOpacity>\n            ) : (null)}\n\n             {isCurrentUserPost? (\n               <TouchableOpacity style={styles.modalOption} onPress={handleRepost}>\n                  <Feather name=\"edit\" size={20} color=\"black\" />\n                  <Text style={styles.modalOptionText}>Edit </Text>\n               </TouchableOpacity>\n            ) : (null)}\n\n             {isCurrentUserPost? (\n               <TouchableOpacity style={styles.modalOption} onPress={handlePin}>\n                  <FontAwesome5 name=\"map-pin\" size={20} color=\"black\" />\n                  <Text style={styles.modalOptionText}>\n                    {isPinned ? ('Pin to my profile') : ('Unpin from profile')}\n                    </Text>\n               </TouchableOpacity>\n            ) : (null)}\n            \n          {isCurrentUserPost ? (\n           <TouchableOpacity style={styles.modalOption} onPress={handleDelete}>\n              \n              {isLoading ? (<ActivityIndicator size={'small'} color={'#2696b8'}/>)\n              :(<MaterialIcons name=\"delete-outline\" size={24} color=\"black\" />)}          \n               <Text style={styles.modalOptionText}>Delete Post</Text>\n             </TouchableOpacity>\n           ) : (\n            <TouchableOpacity style={styles.modalOption} onPress={handleFollow}>\n              {isFollowing ? (<Feather name=\"user-minus\" size={20} color=\"black\" />) : (\n                <Feather name=\"user-plus\" size={20} color=\"black\" />\n              )}\n               <Text style={styles.modalOptionText}>\n               {isFollowing ? 'Unfollow' : 'Follow'}\n               </Text>\n             </TouchableOpacity>\n            )}\n          \n               {!isCurrentUserPost? (\n               <TouchableOpacity style={styles.modalOption} onPress={handleSave}>\n                  <Feather name=\"bookmark\" size={20} color=\"black\" />\n                  <Text style={styles.modalOptionText}>Add to favourites</Text>\n                  {isLoading && (<ActivityIndicator size={'small'} color={'#2696b8'}/>)}\n               </TouchableOpacity>\n            ) : (null)}\n\n               {!isCurrentUserPost? (\n               <TouchableOpacity style={styles.modalOption} onPress={handleReport}>\n                  <Feather name=\"alert-triangle\" size={20} color=\"black\" />\n                  <Text style={styles.modalOptionText}>Report</Text>\n               </TouchableOpacity>\n            ) : (null)}\n\n          <TouchableOpacity style={styles.modalOption} onPress={() => setModalVisible(false)}>\n            <Ionicons name=\"close\" size={24} color=\"black\" />\n            <Text style={styles.modalOptionText}>Cancel</Text>\n          </TouchableOpacity>\n\n\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\n\nconst styles = StyleSheet.create({\n  postContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n  },\n  optionsButton: {\n    position:'absolute',\n    right: 10, top: 20,\n     padding: 5\n  },\n  modalContainer: {\n    borderWidth: 1, borderColor: '#f0f0f0',\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: 'white',\n    borderTopLeftRadius: 25, borderTopRightRadius: 25,\n    padding: 10\n  },\n  modalOption: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 16, paddingHorizontal: 2,\n  },\n  modalOptionText: {\n    fontWeight: '500',\n    marginLeft: 10\n  },\n});\n\nexport default ThreeDot;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}