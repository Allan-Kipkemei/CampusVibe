{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useEffect, useState, useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Snippet from \"../components/snippet\";\nimport { useSelector } from 'react-redux';\nimport { db } from \"../firebase/firebase\";\nimport { collection, onSnapshot, where, query, doc } from 'firebase/firestore';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Tagged = function Tagged(_ref) {\n  var userId = _ref.userId;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    posts = _useState2[0],\n    setPosts = _useState2[1];\n  useEffect(function () {\n    var unsubscribe = onSnapshot(query(collection(db, 'Posts'), where('tagList', 'array-contains', userId)), function (querySnapshot) {\n      var fetchedPosts = [];\n      querySnapshot.forEach(function (doc) {\n        fetchedPosts.push(_objectSpread({\n          id: doc.id\n        }, doc.data()));\n      });\n      setPosts(fetchedPosts);\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, [userId]);\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(FlatList, {\n      data: posts,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsx(Snippet, {\n          post: item,\n          postId: item.id\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      scrollEnabled: false,\n      contentContainerStyle: styles.flatListContent\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {}\n});\nexport default Tagged;","map":{"version":3,"names":["React","useEffect","useState","useCallback","View","StyleSheet","FlatList","Snippet","useSelector","db","collection","onSnapshot","where","query","doc","jsx","_jsx","Tagged","_ref","userId","_useState","_useState2","_slicedToArray","posts","setPosts","unsubscribe","querySnapshot","fetchedPosts","forEach","push","_objectSpread","id","data","style","styles","container","children","renderItem","_ref2","item","post","postId","keyExtractor","scrollEnabled","contentContainerStyle","flatListContent","create"],"sources":["C:/Users/Alus/Downloads/Campus-Vibes-V1-main/Campus-Vibes-V1-main/mobile/screens/Tagged.js"],"sourcesContent":["import React, { useEffect, useState, useCallback} from 'react';\nimport { View, StyleSheet, FlatList } from 'react-native';\nimport Snippet from '../components/snippet';\nimport { useSelector } from 'react-redux';\nimport { db } from '../firebase/firebase';\nimport { collection, onSnapshot, where, query, doc } from 'firebase/firestore';\n\n\nconst Tagged = ({userId}) => {\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    const unsubscribe = onSnapshot(\n      query(collection(db, 'Posts'), where('tagList', 'array-contains', userId)),\n      (querySnapshot) => {\n        const fetchedPosts = [];\n        querySnapshot.forEach((doc) => {\n          fetchedPosts.push({ id: doc.id, ...doc.data() });\n        });\n        setPosts(fetchedPosts);\n      }\n    );\n\n    return () => unsubscribe();\n  }, [userId]);\n\n  return (\n    <View style={styles.container}>\n     <FlatList\n        data={posts}\n        renderItem={({ item }) => <Snippet post={item} postId={item.id} />}\n        keyExtractor={(item) => item.id}\n        scrollEnabled={false}\n        contentContainerStyle={styles.flatListContent}\n        />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n   \n  },\n});\n\nexport default Tagged;\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAO,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,QAAA;AAE/D,OAAOC,OAAO;AACd,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,EAAE;AACX,SAASC,UAAU,EAAEC,UAAU,EAAEC,KAAK,EAAEC,KAAK,EAAEC,GAAG,QAAQ,oBAAoB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAG/E,IAAMC,MAAM,GAAG,SAATA,MAAMA,CAAAC,IAAA,EAAiB;EAAA,IAAZC,MAAM,GAAAD,IAAA,CAANC,MAAM;EACrB,IAAAC,SAAA,GAA0BlB,QAAQ,CAAC,EAAE,CAAC;IAAAmB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EAEtBpB,SAAS,CAAC,YAAM;IACd,IAAMwB,WAAW,GAAGd,UAAU,CAC5BE,KAAK,CAACH,UAAU,CAACD,EAAE,EAAE,OAAO,CAAC,EAAEG,KAAK,CAAC,SAAS,EAAE,gBAAgB,EAAEO,MAAM,CAAC,CAAC,EAC1E,UAACO,aAAa,EAAK;MACjB,IAAMC,YAAY,GAAG,EAAE;MACvBD,aAAa,CAACE,OAAO,CAAC,UAACd,GAAG,EAAK;QAC7Ba,YAAY,CAACE,IAAI,CAAAC,aAAA;UAAGC,EAAE,EAAEjB,GAAG,CAACiB;QAAE,GAAKjB,GAAG,CAACkB,IAAI,EAAE,EAAG;MAClD,CAAC,CAAC;MACFR,QAAQ,CAACG,YAAY,CAAC;IACxB,CAAC,CACF;IAED,OAAO;MAAA,OAAMF,WAAW,EAAE;IAAA;EAC5B,CAAC,EAAE,CAACN,MAAM,CAAC,CAAC;EAEZ,OACEH,IAAA,CAACZ,IAAI;IAAC6B,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,EAC7BpB,IAAA,CAACV,QAAQ;MACN0B,IAAI,EAAET,KAAM;MACZc,UAAU,EAAE,SAAAA,WAAAC,KAAA;QAAA,IAAGC,IAAI,GAAAD,KAAA,CAAJC,IAAI;QAAA,OAAOvB,IAAA,CAACT,OAAO;UAACiC,IAAI,EAAED,IAAK;UAACE,MAAM,EAAEF,IAAI,CAACR;QAAG,EAAG;MAAA,CAAC;MACnEW,YAAY,EAAE,SAAAA,aAACH,IAAI;QAAA,OAAKA,IAAI,CAACR,EAAE;MAAA,CAAC;MAChCY,aAAa,EAAE,KAAM;MACrBC,qBAAqB,EAAEV,MAAM,CAACW;IAAgB;EAC5C,EACC;AAEX,CAAC;AAED,IAAMX,MAAM,GAAG7B,UAAU,CAACyC,MAAM,CAAC;EAC/BX,SAAS,EAAE,CAEX;AACF,CAAC,CAAC;AAEF,eAAelB,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}