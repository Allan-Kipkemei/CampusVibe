{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport thunk from \"redux-thunk\";\nimport { auth } from \"../../firebase/firebase\";\nvar defaultProfileImage = require(\"./graduate.png\");\nvar initialUserProfileState = {\n  userType: \"Student\",\n  username: \"Student\",\n  profileImage: defaultProfileImage,\n  userId: \"\"\n};\nvar initialCampusState = {\n  campus: null,\n  id: null,\n  faculty: null,\n  course: null,\n  studentNumber: null,\n  yearOfAdmission: null\n};\nvar initialFilterState = {\n  filter: \"All\"\n};\nvar userProfileReducer = function userProfileReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialUserProfileState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case \"SET_USER_PROFILE\":\n      return _objectSpread(_objectSpread({}, state), action.payload);\n    case \"CLEAR_USER_PROFILE\":\n      return _objectSpread({}, initialUserProfileState);\n    default:\n      return state;\n  }\n};\nvar campusReducer = function campusReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialCampusState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case \"SET_CAMPUS\":\n      var newState = _objectSpread(_objectSpread({}, state), {}, {\n        campus: action.payload.campus,\n        id: action.payload.id,\n        faculty: action.payload.faculty,\n        course: action.payload.course,\n        studentNumber: action.payload.studentNumber,\n        yearOfAdmission: action.payload.yearOfAdmission\n      });\n      return newState;\n    default:\n      return state;\n  }\n};\nvar filterReducer = function filterReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialFilterState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case \"SET_FILTER\":\n      var newState = _objectSpread(_objectSpread({}, state), {}, {\n        filter: action.payload.filter\n      });\n      return newState;\n    default:\n      return state;\n  }\n};\nvar rootReducer = combineReducers({\n  userProfile: userProfileReducer,\n  campus: campusReducer,\n  filter: filterReducer\n});\nvar persistConfig = {\n  key: \"root\",\n  storage: AsyncStorage,\n  whitelist: [\"userProfile\", \"campus\", \"filter\"]\n};\nvar persistedReducer = persistReducer(persistConfig, rootReducer);\nvar middleware = [thunk];\nvar store = createStore(persistedReducer, applyMiddleware.apply(void 0, middleware));\nvar persistor = persistStore(store, null, function () {\n  console.log(\"Store rehydrated\");\n});\nexport { store, persistor };\nexport var logout = function logout() {\n  return function () {\n    var _ref = _asyncToGenerator(function* (dispatch) {\n      try {\n        yield auth.signOut();\n        dispatch({\n          type: \"CLEAR_USER_PROFILE\"\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"names":["createStore","combineReducers","applyMiddleware","persistStore","persistReducer","AsyncStorage","thunk","auth","defaultProfileImage","require","initialUserProfileState","userType","username","profileImage","userId","initialCampusState","campus","id","faculty","course","studentNumber","yearOfAdmission","initialFilterState","filter","userProfileReducer","state","arguments","length","undefined","action","type","_objectSpread","payload","campusReducer","newState","filterReducer","rootReducer","userProfile","persistConfig","key","storage","whitelist","persistedReducer","middleware","store","apply","persistor","console","log","logout","_ref","_asyncToGenerator","dispatch","signOut","error","_x"],"sources":["C:/Users/muguc/OneDrive/Desktop/Campus Vibes/mobile/src/store/store.js"],"sourcesContent":["import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport thunk from \"redux-thunk\";\r\nimport { auth } from \"../../firebase/firebase\";\r\n\r\nconst defaultProfileImage = require(\"./graduate.png\");\r\nconst initialUserProfileState = {\r\n  userType: \"Student\",\r\n  username: \"Student\",\r\n  profileImage: defaultProfileImage,\r\n  userId: \"\",\r\n};\r\n\r\nconst initialCampusState = {\r\n  campus: null,\r\n  id: null,\r\n  faculty: null,\r\n  course: null,\r\n  studentNumber: null,\r\n  yearOfAdmission: null,\r\n};\r\n\r\nconst initialFilterState = {\r\n  filter: \"All\",\r\n};\r\n\r\nconst userProfileReducer = (state = initialUserProfileState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_USER_PROFILE\":\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    case \"CLEAR_USER_PROFILE\":\r\n      return {\r\n        ...initialUserProfileState,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst campusReducer = (state = initialCampusState, action) => {\r\n  // console.log(\"Reducer called with action:\", action);\r\n  // console.log(\"Initial state:\", state);\r\n\r\n  switch (action.type) {\r\n    case \"SET_CAMPUS\":\r\n      const newState = {\r\n        ...state,\r\n        campus: action.payload.campus,\r\n        id: action.payload.id,\r\n        faculty: action.payload.faculty,\r\n        course: action.payload.course,\r\n        studentNumber: action.payload.studentNumber,\r\n        yearOfAdmission: action.payload.yearOfAdmission,\r\n      };\r\n      // console.log(\"New state:\", newState);\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst filterReducer = (state = initialFilterState, action) => {\r\n  // console.log(\"Reducer called with action:\", action);\r\n  switch (action.type) {\r\n    case \"SET_FILTER\":\r\n      const newState = {\r\n        ...state,\r\n        filter: action.payload.filter,\r\n      };\r\n      // console.log(\"New state:\", newState);\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  userProfile: userProfileReducer,\r\n  campus: campusReducer,\r\n  filter: filterReducer,\r\n});\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage: AsyncStorage,\r\n  whitelist: [\"userProfile\", \"campus\", \"filter\"],\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  persistedReducer,\r\n  applyMiddleware(...middleware)\r\n);\r\n\r\nconst persistor = persistStore(store, null, () => {\r\n  console.log(\"Store rehydrated\");\r\n});\r\n\r\nexport { store, persistor };\r\n\r\nexport const logout = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      await auth.signOut();\r\n      dispatch({ type: \"CLEAR_USER_PROFILE\" });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}