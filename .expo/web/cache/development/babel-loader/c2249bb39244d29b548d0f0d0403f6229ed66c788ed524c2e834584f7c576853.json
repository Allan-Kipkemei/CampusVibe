{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { getFirestore, updateDoc, doc, getDoc, onSnapshot } from \"firebase/firestore\";\nimport { db } from \"../firebase/firebase\";\nimport { useSelector } from 'react-redux';\nimport PostModal from \"../screens/Comments.js\";\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar PostTab = function PostTab(_ref) {\n  var postId = _ref.postId;\n  var userId = useSelector(function (state) {\n    return state.userProfile.userId;\n  });\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    liked = _useState2[0],\n    setLiked = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    disliked = _useState4[0],\n    setDisliked = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    commentsCount = _useState6[0],\n    setCommentsCount = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    likeCount = _useState8[0],\n    setLikeCount = _useState8[1];\n  var _useState9 = useState(''),\n    _useState10 = _slicedToArray(_useState9, 2),\n    dislikeCount = _useState10[0],\n    setDislikeCount = _useState10[1];\n  useEffect(function () {\n    var unsubscribe = onSnapshot(doc(db, \"Posts\", postId), function (doc) {\n      var _doc$data, _doc$data2;\n      var likes = ((_doc$data = doc.data()) == null ? void 0 : _doc$data.likes) || [];\n      var dislikes = ((_doc$data2 = doc.data()) == null ? void 0 : _doc$data2.dislikes) || [];\n      setLikeCount(likes.length);\n      setDislikeCount(dislikes.length);\n      if (likes.includes(userId)) {\n        setLiked(true);\n      } else {\n        setLiked(false);\n      }\n      if (dislikes.includes(userId)) {\n        setDisliked(true);\n      } else {\n        setDisliked(false);\n      }\n    });\n    return unsubscribe;\n  }, [postId, userId]);\n  var handleLike = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!liked) {\n        setLiked(true);\n        if (disliked) {\n          setDisliked(false);\n          yield updateDislikes(postId, userId, false);\n        }\n        yield updateLikes(postId, userId, true);\n      } else {\n        setLiked(false);\n        yield updateLikes(postId, userId, false);\n      }\n    });\n    return function handleLike() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleDislike = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (!disliked) {\n        setDisliked(true);\n        if (liked) {\n          setLiked(false);\n          yield updateLikes(postId, userId, false);\n        }\n        yield updateDislikes(postId, userId, true);\n      } else {\n        setDisliked(false);\n        yield updateDislikes(postId, userId, false);\n      }\n    });\n    return function handleDislike() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var updateLikes = function () {\n    var _ref4 = _asyncToGenerator(function* (postId, userId, add) {\n      try {\n        var postRef = doc(db, \"Posts\", postId);\n        var postDoc = yield getDoc(postRef);\n        var likes = postDoc.data().likes || [];\n        if (add) {\n          likes.push(userId);\n        } else {\n          var index = likes.indexOf(userId);\n          if (index !== -1) {\n            likes.splice(index, 1);\n          }\n        }\n        yield updateDoc(postRef, {\n          likes: likes\n        });\n      } catch (error) {\n        console.error(\"Error updating post likes: \", error);\n      }\n    });\n    return function updateLikes(_x, _x2, _x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var updateDislikes = function () {\n    var _ref5 = _asyncToGenerator(function* (postId, userId, add) {\n      try {\n        var postRef = doc(db, \"Posts\", postId);\n        var postDoc = yield getDoc(postRef);\n        var dislikes = postDoc.data().dislikes || [];\n        if (add) {\n          dislikes.push(userId);\n        } else {\n          var index = dislikes.indexOf(userId);\n          if (index !== -1) {\n            dislikes.splice(index, 1);\n          }\n        }\n        yield updateDoc(postRef, {\n          dislikes: dislikes\n        });\n      } catch (error) {\n        console.error(\"Error updating post dislikes: \", error);\n      }\n    });\n    return function updateDislikes(_x4, _x5, _x6) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var handleComment = function handleComment() {\n    setCommentsModalVisible(!commentsModalVisible);\n  };\n  var handleShare = function handleShare() {};\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    commentsModalVisible = _useState12[0],\n    setCommentsModalVisible = _useState12[1];\n  function openComments(postId) {\n    setCommentsModalVisible(true);\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(TouchableOpacity, {\n      onPress: handleLike,\n      children: _jsxs(View, {\n        style: styles.row,\n        children: [liked ? _jsx(Image, {\n          source: require(\"../assets/Like.png\"),\n          style: styles.iconlike\n        }) : _jsx(Image, {\n          source: require(\"../assets/Likeinactive.png\"),\n          style: styles.iconlike\n        }), _jsx(Text, {\n          style: styles.count,\n          children: likeCount\n        })]\n      })\n    }), _jsx(TouchableOpacity, {\n      onPress: handleDislike,\n      children: _jsxs(View, {\n        style: styles.row,\n        children: [disliked ? _jsx(Image, {\n          source: require(\"../assets/dislike.png\"),\n          style: styles.icondislike\n        }) : _jsx(Image, {\n          source: require(\"../assets/dislikeinactive.png\"),\n          style: styles.icondislike\n        }), _jsx(Text, {\n          style: styles.count,\n          children: dislikeCount\n        })]\n      })\n    }), _jsx(PostModal, {\n      postId: postId,\n      modalVisible: commentsModalVisible,\n      setModalVisible: setCommentsModalVisible\n    }), _jsx(TouchableOpacity, {\n      onPress: handleShare,\n      children: _jsx(Image, {\n        source: require(\"../assets/share.png\"),\n        style: styles.iconshare\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    left: 0,\n    right: 0,\n    justifyContent: 'space-between',\n    paddingTop: 10,\n    paddingHorizontal: 20\n  },\n  like: {\n    flexDirection: 'row'\n  },\n  count: {\n    fontSize: 13,\n    fontWeight: '500',\n    color: '#a0a0a0',\n    marginLeft: 5,\n    marginTop: 4\n  },\n  iconlike: {\n    width: 22,\n    height: 22\n  },\n  icondislike: {\n    width: 25,\n    height: 25\n  },\n  iconshare: {\n    width: 20,\n    height: 20,\n    marginTop: 3\n  },\n  row: {\n    flexDirection: 'row'\n  }\n});\nexport default PostTab;","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","TouchableOpacity","Image","getFirestore","updateDoc","doc","getDoc","onSnapshot","db","useSelector","PostModal","FontAwesome5","jsx","_jsx","jsxs","_jsxs","PostTab","_ref","postId","userId","state","userProfile","_useState","_useState2","_slicedToArray","liked","setLiked","_useState3","_useState4","disliked","setDisliked","_useState5","_useState6","commentsCount","setCommentsCount","_useState7","_useState8","likeCount","setLikeCount","_useState9","_useState10","dislikeCount","setDislikeCount","unsubscribe","_doc$data","_doc$data2","likes","data","dislikes","length","includes","handleLike","_ref2","_asyncToGenerator","updateDislikes","updateLikes","apply","arguments","handleDislike","_ref3","_ref4","add","postRef","postDoc","push","index","indexOf","splice","error","console","_x","_x2","_x3","_ref5","_x4","_x5","_x6","handleComment","setCommentsModalVisible","commentsModalVisible","handleShare","_useState11","_useState12","openComments","style","styles","container","children","onPress","row","source","require","iconlike","count","icondislike","modalVisible","setModalVisible","iconshare","create","flexDirection","left","right","justifyContent","paddingTop","paddingHorizontal","like","fontSize","fontWeight","color","marginLeft","marginTop","width","height"],"sources":["C:/Users/muguc/OneDrive/Desktop/Campus Vibes/mobile/components/LikeTab.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, Image} from 'react-native';\r\nimport { getFirestore, updateDoc, doc , getDoc, onSnapshot} from \"firebase/firestore\";\r\nimport { db } from \"../firebase/firebase\";\r\nimport { useSelector } from 'react-redux';\r\nimport PostModal from \"../screens/Comments.js\";\r\nimport { FontAwesome5 } from '@expo/vector-icons';\r\n\r\n\r\nconst PostTab = ({postId}) => {\r\n  const userId = useSelector((state) => state.userProfile.userId);\r\n\r\n  const [liked, setLiked] = useState(false);\r\n  const [disliked, setDisliked] = useState(false);\r\n  const [commentsCount, setCommentsCount] = useState('');\r\n  const [likeCount, setLikeCount] = useState('');\r\n  const [dislikeCount, setDislikeCount] = useState('');\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onSnapshot(doc(db, \"Posts\", postId), (doc) => {\r\n      const likes = doc.data()?.likes || [];\r\n      const dislikes = doc.data()?.dislikes || [];\r\n      setLikeCount(likes.length);\r\n      setDislikeCount(dislikes.length);\r\n      if (likes.includes(userId)) {\r\n        setLiked(true);\r\n      } else {\r\n        setLiked(false);\r\n      }\r\n      if (dislikes.includes(userId)) {\r\n        setDisliked(true);\r\n      } else {\r\n        setDisliked(false);\r\n      }\r\n    });\r\n    return unsubscribe;\r\n  }, [postId, userId]);\r\n  \r\n  \r\n  const handleLike = async () => {\r\n    if (!liked) {\r\n      setLiked(true);\r\n      if (disliked) {\r\n        setDisliked(false);\r\n        await updateDislikes(postId, userId, false);\r\n      }\r\n      await updateLikes(postId, userId, true);\r\n    } else {\r\n      setLiked(false);\r\n      await updateLikes(postId, userId, false);\r\n    }\r\n  };\r\n  \r\n  const handleDislike = async () => {\r\n    if (!disliked) {\r\n      setDisliked(true);\r\n      if (liked) {\r\n        setLiked(false);\r\n        await updateLikes(postId, userId, false);\r\n      }\r\n      await updateDislikes(postId, userId, true);\r\n    } else {\r\n      setDisliked(false);\r\n      await updateDislikes(postId, userId, false);\r\n    }\r\n  };\r\n  \r\n  const updateLikes = async (postId, userId, add) => {\r\n    try {\r\n      const postRef = doc(db, \"Posts\", postId);\r\n      const postDoc = await getDoc(postRef);\r\n      const likes = postDoc.data().likes || [];\r\n      if (add) {\r\n        likes.push(userId);\r\n      } else {\r\n        const index = likes.indexOf(userId);\r\n        if (index !== -1) {\r\n          likes.splice(index, 1);\r\n        }\r\n      }\r\n      await updateDoc(postRef, { likes });\r\n    } catch (error) {\r\n      console.error(\"Error updating post likes: \", error);\r\n    }\r\n  };\r\n  \r\n  const updateDislikes = async (postId, userId, add) => {\r\n    try {\r\n      const postRef = doc(db, \"Posts\", postId);\r\n      const postDoc = await getDoc(postRef);\r\n      const dislikes = postDoc.data().dislikes || [];\r\n      if (add) {\r\n        dislikes.push(userId);\r\n      } else {\r\n        const index = dislikes.indexOf(userId);\r\n        if (index !== -1) {\r\n          dislikes.splice(index, 1);\r\n        }\r\n      }\r\n      await updateDoc(postRef, { dislikes });\r\n    } catch (error) {\r\n      console.error(\"Error updating post dislikes: \", error);\r\n    }\r\n  };\r\n  \r\n  \r\n  const handleComment = () => {\r\n    setCommentsModalVisible(!commentsModalVisible);\r\n  };\r\n  \r\n  \r\n\r\n  const handleShare = () => {\r\n    // add logic for handling share\r\n  };\r\n\r\n\r\n   // open comments with modal\r\n   const [commentsModalVisible, setCommentsModalVisible] = useState(false);\r\n   function openComments(postId) {\r\n     setCommentsModalVisible(true);\r\n   }\r\n\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      \r\n      <TouchableOpacity onPress={handleLike}>\r\n        <View style={styles.row}>\r\n        {liked ? (\r\n          <Image source={require('../assets/Like.png')} style={styles.iconlike} />\r\n        ) : (\r\n          <Image source={require('../assets/Likeinactive.png')} style={styles.iconlike} />\r\n        )}\r\n        <Text style={styles.count}>{likeCount}</Text>\r\n        </View>\r\n      </TouchableOpacity>\r\n\r\n\r\n      <TouchableOpacity onPress={handleDislike}>\r\n      <View style={styles.row}>\r\n        {disliked ? (\r\n          <Image source={require('../assets/dislike.png')} style={styles.icondislike} />\r\n        ) : (\r\n          <Image source={require('../assets/dislikeinactive.png')} style={styles.icondislike} />\r\n        )}\r\n        <Text style={styles.count}>{dislikeCount}</Text>\r\n        </View>\r\n      </TouchableOpacity>\r\n\r\n\r\n\r\n\r\n      <PostModal\r\n        postId={postId}\r\n        modalVisible={commentsModalVisible}\r\n       setModalVisible={setCommentsModalVisible}\r\n      />\r\n      <TouchableOpacity onPress={handleShare}>\r\n        <Image source={require('../assets/share.png')} style={styles.iconshare} />\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flexDirection: 'row',\r\n    // width: 350,\r\n   \r\n    left: 0, right: 0,\r\n    justifyContent:'space-between',\r\n    paddingTop: 10,\r\n     paddingHorizontal: 20\r\n  },\r\n  like:{\r\n    flexDirection: 'row',\r\n  },\r\n  count: {\r\n    fontSize: 13, fontWeight: '500', color: '#a0a0a0',\r\n    marginLeft: 5, marginTop: 4,\r\n  },\r\n  iconlike: {\r\n    width: 22,\r\n    height: 22,\r\n  },\r\n  icondislike: {\r\n    width: 25,\r\n    height: 25,\r\n  },\r\n  \r\n  iconshare: {\r\n    width: 20,\r\n    height: 20, marginTop: 3,\r\n  },\r\n  row:{\r\n    flexDirection: 'row',\r\n  }\r\n});\r\n\r\nexport default PostTab;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}