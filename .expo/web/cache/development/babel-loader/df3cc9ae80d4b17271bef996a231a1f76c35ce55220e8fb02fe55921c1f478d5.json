{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, React, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { Border, Padding } from \"../GlobalStyles\";\nimport { FontAwesome5, AntDesign } from '@expo/vector-icons';\nimport PostTab from \"./LikeTab\";\nimport moment from 'moment';\nimport ImageView from \"../screens/ImageModal\";\nimport ThreeDot from \"./3-dotModal\";\nimport VisitUserProfile from \"./VisitUserProfile\";\nimport { getFirestore, doc, getDoc, onSnapshot, setDoc, deleteDoc, collection, query, where, serverTimestamp } from 'firebase/firestore';\nimport { db } from \"../firebase/firebase\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigation } from '@react-navigation/native';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get('window'),\n  width = _Dimensions$get.width,\n  height = _Dimensions$get.height;\nvar Snippet = function Snippet(_ref) {\n  var post = _ref.post,\n    postId = _ref.postId;\n  var _useState = useState(\"now\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    timeAgo = _useState2[0],\n    setTimeAgo = _useState2[1];\n  var words = post.message.split(' ');\n  var navigation = useNavigation();\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    reposted = _useState4[0],\n    setReposted = _useState4[1];\n  useEffect(function () {\n    if (post.createdAt) {\n      var now = moment();\n      var postTime = moment(post.createdAt.toDate());\n      var diff = moment.duration(now.diff(postTime));\n      if (diff.asSeconds() < 60) {\n        setTimeAgo(Math.floor(diff.asSeconds()) + \" seconds ago\");\n      } else if (diff.asMinutes() < 60) {\n        setTimeAgo(Math.floor(diff.asMinutes()) + \" minutes ago\");\n      } else if (diff.asHours() < 24) {\n        setTimeAgo(Math.floor(diff.asHours()) + \" hours ago\");\n      } else if (diff.asDays() <= 7) {\n        setTimeAgo(Math.floor(diff.asDays()) + \" days ago\");\n      } else {\n        setTimeAgo(postTime.format(\"DD MMM\"));\n      }\n    }\n  }, [post.createdAt]);\n  var userProfile = useSelector(function (state) {\n    return state.userProfile;\n  });\n  var currentUserId = userProfile.userId;\n  var defaultProfileImage = require(\"../assets/graduate.png\");\n  var _useState5 = useState('Student'),\n    _useState6 = _slicedToArray(_useState5, 2),\n    username = _useState6[0],\n    setUsername = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    profileImage = _useState8[0],\n    setProfileImage = _useState8[1];\n  var _useState9 = useState('Guest'),\n    _useState10 = _slicedToArray(_useState9, 2),\n    field = _useState10[0],\n    setField = _useState10[1];\n  var postUserId = post.userId;\n  useEffect(function () {\n    var fetchUserProfile = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        var db = getFirestore();\n        var userRef = doc(db, 'userProfiles', postUserId);\n        var userDoc = yield getDoc(userRef);\n        if (userDoc.exists()) {\n          var _userDoc$data = userDoc.data(),\n            _username = _userDoc$data.username,\n            profileImageUrl = _userDoc$data.profileImageUrl,\n            _field = _userDoc$data.field;\n          setUsername(_username);\n          setField(_field);\n          if (profileImageUrl) {\n            setProfileImage({\n              uri: profileImageUrl\n            });\n          }\n        }\n      });\n      return function fetchUserProfile() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    fetchUserProfile();\n  }, [postUserId]);\n  var handlePress = function handlePress() {\n    var isCurrentUser = currentUserId === postUserId;\n    if (!isCurrentUser) {\n      navigation.navigate('BottomTabsRoot', {\n        screen: 'VisitUserProfile',\n        params: {\n          postUserId: postUserId\n        }\n      });\n    } else {\n      navigation.navigate('BottomTabsRoot', {\n        screen: 'Account'\n      });\n    }\n  };\n  var handleTagged = function handleTagged(userId) {\n    var current = currentUserId === userId;\n    if (!current) {\n      navigation.navigate('BottomTabsRoot', {\n        screen: 'VisitUserProfile',\n        params: {\n          postUserId: userId\n        }\n      });\n    } else {\n      navigation.navigate('BottomTabsRoot', {\n        screen: 'Account'\n      });\n    }\n  };\n  var fetchCreatorProfile = function () {\n    var _ref3 = _asyncToGenerator(function* (userId) {\n      var profileRef = doc(db, 'userProfiles', userId);\n      var profileSnapshot = yield getDoc(profileRef);\n      if (profileSnapshot.exists()) {\n        var creatorDetails = profileSnapshot.data();\n        setCreatorDetails(creatorDetails);\n      } else {\n        console.log('User profile not found.');\n      }\n    });\n    return function fetchCreatorProfile(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var _useState11 = useState('Student'),\n    _useState12 = _slicedToArray(_useState11, 2),\n    creator = _useState12[0],\n    setCreatorDetails = _useState12[1];\n  if (post.type === 'repost') {\n    var userId = post.originalID;\n    fetchCreatorProfile(userId);\n  } else {}\n  return _jsxs(View, {\n    style: styles.snippet,\n    children: [_jsx(ThreeDot, {\n      postId: post.id,\n      postUserId: post.userId\n    }, post.id), _jsxs(Text, {\n      style: styles.topic,\n      children: [_jsx(FontAwesome5, {\n        name: post.topicTag,\n        size: 20,\n        color: \"#FF9900\"\n      }), ' ', post.topic]\n    }), _jsxs(TouchableOpacity, {\n      style: styles.userProfile,\n      onPress: handlePress,\n      activeOpacity: 0.8,\n      children: [_jsx(Image, {\n        style: styles.profileImage,\n        resizeMode: \"cover\",\n        source: profileImage || defaultProfileImage\n      }), _jsxs(View, {\n        style: styles.usernameField,\n        children: [_jsx(Text, {\n          style: styles.username,\n          children: username\n        }), _jsxs(Text, {\n          style: styles.field,\n          children: [\" \", field]\n        })]\n      })]\n    }), _jsxs(View, {\n      style: styles.messageFlexBox,\n      children: [post.type === 'repost' && _jsxs(TouchableOpacity, {\n        style: styles.reposted,\n        children: [_jsx(AntDesign, {\n          name: \"retweet\",\n          size: 18,\n          color: \"#c0c0c0\"\n        }), _jsxs(Text, {\n          style: styles.repostedText,\n          children: [\"Reposted from \", creator.username]\n        })]\n      }), _jsx(Text, {\n        style: styles.message,\n        children: words.map(function (word, index) {\n          if (word.startsWith('@')) {\n            var _username2 = word.substring(1);\n            var taggedUser = post.tagList.find(function (user) {\n              return user.username === _username2;\n            });\n            if (taggedUser) {\n              var _userId = taggedUser.userId;\n              return _jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  return handleTagged(_userId);\n                },\n                children: _jsxs(Text, {\n                  style: {\n                    color: '#2696b8',\n                    fontWeight: '500'\n                  },\n                  children: [word, ' ']\n                })\n              }, index);\n            }\n          }\n          return _jsxs(Text, {\n            children: [word, ' ', \" \"]\n          }, index);\n        })\n      })]\n    }), _jsx(View, {\n      style: styles.attachment,\n      children: post.downloadURL && _jsxs(View, {\n        style: styles.attachment,\n        children: [_jsx(ImageView, {\n          image: post.downloadURL,\n          topicTag: post.topicTag,\n          postId: postId,\n          message: post.message,\n          topic: post.topic\n        }), post.imageTag && _jsx(Text, {\n          style: styles.imageTag,\n          children: post.imageTag\n        })]\n      })\n    }), _jsx(PostTab, {\n      postId: post.id,\n      type: post.type,\n      docId: post.postId,\n      postUserId: post.userId\n    }), _jsxs(View, {\n      style: styles.tagcontainer,\n      children: [_jsx(Text, {\n        style: styles.time,\n        children: timeAgo\n      }), _jsxs(Text, {\n        style: styles.vibe,\n        children: [post.type === 'repost' ? creator.username : post.vibe, \" vibes\"]\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  snippet: {\n    backgroundColor: 'white',\n    paddingHorizontal: 10,\n    paddingBottom: 10,\n    marginBottom: 2,\n    borderBottomColor: '#f0f0f0',\n    borderBottomWidth: 1\n  },\n  topic: {\n    fontWeight: \"700\",\n    width: '80%',\n    marginBottom: 10,\n    marginLeft: 5,\n    padding: 2\n  },\n  time: {\n    color: '#a0a0a0',\n    fontSize: 12,\n    fontWeight: \"500\",\n    marginLeft: 1\n  },\n  messageFlexBox: {\n    marginTop: 10\n  },\n  message: {\n    fontSize: 14\n  },\n  simmu22Icon: {\n    borderRadius: Border.br_3xs,\n    width: 349,\n    height: 158\n  },\n  image: {\n    padding: Padding.p_8xs,\n    marginTop: 5\n  },\n  customTopTabChild: {\n    display: \"none\"\n  },\n  customTopTabItem: {\n    marginLeft: 55,\n    display: \"none\"\n  },\n  customTopTab: {\n    alignItems: \"flex-end\",\n    marginTop: 5\n  },\n  attachment: {\n    paddingTop: 10\n  },\n  tagcontainer: {\n    padding: 10,\n    flexDirection: 'row',\n    paddingBottom: 10,\n    justifyContent: 'space-between',\n    borderTopWidth: 1,\n    borderTopColor: '#f0f0f0',\n    marginTop: 10\n  },\n  vibe: {\n    color: '#2696b8',\n    fontSize: 12\n  },\n  views: {\n    color: '#c0c0c0',\n    fontWeight: '500'\n  },\n  date: {\n    fontWeight: '500',\n    color: '#c0c0c0'\n  },\n  imageTag: {\n    marginLeft: 10,\n    padding: 2,\n    color: '#c0c0c0'\n  },\n  profileImage: {\n    borderRadius: 100,\n    width: 45,\n    height: 45\n  },\n  usernameField: {\n    marginLeft: 6\n  },\n  userProfile: {\n    marginTop: 5,\n    marginLeft: 5,\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  username: {\n    fontWeight: '500',\n    marginLeft: 5,\n    marginTop: 5\n  },\n  field: {\n    color: '#707070',\n    marginLeft: 1,\n    marginTop: 5\n  },\n  repostedText: {\n    color: '#c0c0c0',\n    fontSize: 13,\n    marginHorizontal: 5\n  },\n  reposted: {\n    flexDirection: 'row',\n    marginVertical: 3\n  }\n});\nexport default Snippet;","map":{"version":3,"names":["useState","React","useEffect","View","Text","Image","StyleSheet","TouchableOpacity","Dimensions","Border","Padding","FontAwesome5","AntDesign","PostTab","moment","ImageView","ThreeDot","VisitUserProfile","getFirestore","doc","getDoc","onSnapshot","setDoc","deleteDoc","collection","query","where","serverTimestamp","db","useSelector","useNavigation","jsx","_jsx","jsxs","_jsxs","_Dimensions$get","get","width","height","Snippet","_ref","post","postId","_useState","_useState2","_slicedToArray","timeAgo","setTimeAgo","words","message","split","navigation","_useState3","_useState4","reposted","setReposted","createdAt","now","postTime","toDate","diff","duration","asSeconds","Math","floor","asMinutes","asHours","asDays","format","userProfile","state","currentUserId","userId","defaultProfileImage","require","_useState5","_useState6","username","setUsername","_useState7","_useState8","profileImage","setProfileImage","_useState9","_useState10","field","setField","postUserId","fetchUserProfile","_ref2","_asyncToGenerator","userRef","userDoc","exists","_userDoc$data","data","profileImageUrl","uri","apply","arguments","handlePress","isCurrentUser","navigate","screen","params","handleTagged","current","fetchCreatorProfile","_ref3","profileRef","profileSnapshot","creatorDetails","setCreatorDetails","console","log","_x","_useState11","_useState12","creator","type","originalID","style","styles","snippet","children","id","topic","name","topicTag","size","color","onPress","activeOpacity","resizeMode","source","usernameField","messageFlexBox","repostedText","map","word","index","startsWith","substring","taggedUser","tagList","find","user","fontWeight","attachment","downloadURL","image","imageTag","docId","tagcontainer","time","vibe","create","backgroundColor","paddingHorizontal","paddingBottom","marginBottom","borderBottomColor","borderBottomWidth","marginLeft","padding","fontSize","marginTop","simmu22Icon","borderRadius","br_3xs","p_8xs","customTopTabChild","display","customTopTabItem","customTopTab","alignItems","paddingTop","flexDirection","justifyContent","borderTopWidth","borderTopColor","views","date","marginHorizontal","marginVertical"],"sources":["C:/Users/Alus/Downloads/Campus-Vibes-V1-main/Campus-Vibes-V1-main/mobile/components/snippet.js"],"sourcesContent":["import { useState, React, useEffect } from \"react\";\nimport {View,Text, Image,StyleSheet, TouchableOpacity,Dimensions} from \"react-native\";\nimport {  Border, Padding } from \"../GlobalStyles\";\nimport { FontAwesome5,AntDesign } from '@expo/vector-icons';\nimport PostTab from \"./LikeTab\";\nimport moment from 'moment';\nimport ImageView from \"../screens/ImageModal\";\nimport ThreeDot from \"./3-dotModal\";\nimport VisitUserProfile from \"./VisitUserProfile\";\nimport { getFirestore, doc, getDoc, onSnapshot, setDoc, deleteDoc, collection, query, where, serverTimestamp } from 'firebase/firestore';\nimport { db } from \"../firebase/firebase\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigation } from '@react-navigation/native';\nconst { width, height } = Dimensions.get('window');\n\n\nconst Snippet = ({ post, postId}) => {\n  const [timeAgo, setTimeAgo] = useState(\"now\");\n  const words = post.message.split(' ');\n  const navigation = useNavigation();\n  const [reposted, setReposted] = useState(false)\n  \n  useEffect(() => {\n    if (post.createdAt) {\n      const now = moment();\n      const postTime = moment(post.createdAt.toDate());\n      const diff = moment.duration(now.diff(postTime));\n  \n      if (diff.asSeconds() < 60) {\n        setTimeAgo(`${Math.floor(diff.asSeconds())} seconds ago`);\n      } else if (diff.asMinutes() < 60) {\n        setTimeAgo(`${Math.floor(diff.asMinutes())} minutes ago`);\n      } else if (diff.asHours() < 24) {\n        setTimeAgo(`${Math.floor(diff.asHours())} hours ago`);\n      } else if (diff.asDays() <= 7) {\n        setTimeAgo(`${Math.floor(diff.asDays())} days ago`);\n      } else {\n        setTimeAgo(postTime.format(\"DD MMM\"));\n      }\n    }\n  }, [post.createdAt]);\n \n  \n\n   // Current user details\n   const userProfile = useSelector((state => state.userProfile))\n   const currentUserId = userProfile.userId;\n \n      // Fecth user profile using userId\n   const defaultProfileImage = require('../assets/graduate.png');\n   const [username, setUsername] = useState('Student');\n   const [profileImage, setProfileImage] = useState(null);\n   const [field, setField] = useState('Guest');\n   const postUserId = post.userId;\n \n   useEffect(() => {\n     const fetchUserProfile = async () => {\n       const db = getFirestore();\n       const userRef = doc(db, 'userProfiles', postUserId);\n       const userDoc = await getDoc(userRef);\n      \n       if (userDoc.exists()) {\n         const { username, profileImageUrl, field } = userDoc.data();\n         setUsername(username)\n         setField(field)\n         if (profileImageUrl) {\n           setProfileImage({ uri: profileImageUrl });\n         } \n       }\n     };\n     fetchUserProfile();\n   }, [postUserId]);\n\n\n  const handlePress = () => {\n    const isCurrentUser = currentUserId === postUserId;  \n    if(!isCurrentUser){\n      navigation.navigate('BottomTabsRoot', {\n        screen: 'VisitUserProfile',\n        params: { postUserId: postUserId }\n      });\n    }else{\n      navigation.navigate('BottomTabsRoot', {screen: 'Account'})\n    }\n  };\n\n  const handleTagged = (userId) => {\n    const current = currentUserId === userId;\n    if(!current){\n    navigation.navigate('BottomTabsRoot', {\n      screen: 'VisitUserProfile',\n      params: { postUserId: userId }\n    });\n  }else{\n    navigation.navigate('BottomTabsRoot', {screen: 'Account'})\n  }\n  };\n  \n     // Helper function to fetch creator profile and update the state\n     const fetchCreatorProfile = async (userId) => {\n      const profileRef = doc(db, 'userProfiles', userId);\n      const profileSnapshot = await getDoc(profileRef);\n      if (profileSnapshot.exists()) {\n        const creatorDetails = profileSnapshot.data();\n        setCreatorDetails(creatorDetails);\n      } else {\n        console.log('User profile not found.');\n      }\n    };\n  \n  // Check if Post or repost\n  const [creator, setCreatorDetails] = useState('Student')\n  if(post.type === 'repost'){\n    const userId = post.originalID;\n    fetchCreatorProfile(userId);\n  }else{\n\n  }\n\n\n\n  return (\n    <View style={styles.snippet}>\n      <ThreeDot  \n         postId={post.id} \n         postUserId={post.userId} \n         key={post.id}/>\n        <Text style={styles.topic}>\n          <FontAwesome5 name={post.topicTag} size={20} color=\"#FF9900\" />\n          {' '}{post.topic} \n        </Text>\n        \n        <TouchableOpacity style={styles.userProfile}  onPress={handlePress} activeOpacity={0.8}>\n             <Image \n               style={styles.profileImage} \n               resizeMode=\"cover\"\n               source={profileImage || defaultProfileImage}\n             />\n             <View style={styles.usernameField}>\n                <Text style={styles.username}>{username}</Text>\n                <Text style={styles.field}> {field}</Text>\n              </View>    \n           </TouchableOpacity>\n\n        <View style={styles.messageFlexBox}>\n          {post.type === 'repost' && (\n            <TouchableOpacity style={styles.reposted}>\n               <AntDesign name=\"retweet\" size={18} color=\"#c0c0c0\" />\n               <Text style={styles.repostedText}>Reposted from {creator.username}</Text>\n            </TouchableOpacity>\n          )}\n        <Text style={styles.message}>\n         {words.map((word, index) => {\n         if (word.startsWith('@')) {\n           const username = word.substring(1); // Remove the '@' symbol\n           const taggedUser = post.tagList.find((user) => user.username === username);\n           if (taggedUser) {\n           const { userId } = taggedUser;\n         return (\n          <TouchableOpacity key={index} onPress={() => handleTagged(userId)}>\n            <Text style={{ color: '#2696b8', fontWeight: '500' }}>{word}{' '}</Text>\n          </TouchableOpacity>\n         )}}\n         return (\n         <Text key={index}>{word}{' '} </Text>\n          )})}\n       </Text>\n     </View>\n\n      <View style={styles.attachment}>\n      {post.downloadURL && (\n       <View style={styles.attachment}>\n       <ImageView\n         image={post.downloadURL}\n         topicTag = {post.topicTag}\n         postId={postId}\n         message={post.message}\n         topic={post.topic}/>\n       {post.imageTag && (\n        <Text style={styles.imageTag}>{post.imageTag}</Text>\n       )}\n      </View>\n   )}\n\n\n     </View>\n     <PostTab \n       postId={post.id}\n       type={post.type}\n       docId={post.postId}\n       postUserId={post.userId} \n     />\n      <View style={styles.tagcontainer}>\n      <Text style={styles.time}>\n          {timeAgo}\n        </Text>\n        {/* <Text style={styles.date}>{post.createdAt ? post.createdAt.toDate().toLocaleDateString() : ''}</Text> */}\n        <Text style={styles.vibe}>{post.type === 'repost' ? creator.username : post.vibe} vibes</Text>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  snippet: {\n    backgroundColor: 'white', \n    paddingHorizontal: 10,\n    paddingBottom: 10, marginBottom: 2,\n    borderBottomColor: '#f0f0f0', borderBottomWidth: 1,\n  },\n  topic: {\n    fontWeight: \"700\",\n     width: '80%', \n     marginBottom: 10, marginLeft: 5,\n    //  borderWidth: 1,\n     padding: 2\n  },\n  time: {\n    color: '#a0a0a0',\n    fontSize: 12,\n    fontWeight: \"500\", marginLeft: 1,\n  },\n\n  messageFlexBox: {\n    marginTop: 10,\n  },\n\n  message: {\n    fontSize: 14, \n  },\n  simmu22Icon: {\n    borderRadius: Border.br_3xs,\n    width: 349,\n    height: 158,\n  },\n  image: {\n    padding: Padding.p_8xs,\n    marginTop: 5,\n  },\n  customTopTabChild: {\n    display: \"none\",\n  },\n  customTopTabItem: {\n    marginLeft: 55,\n    display: \"none\",\n  },\n  customTopTab: {\n    alignItems: \"flex-end\",\n    marginTop: 5,\n  },\n  attachment:{\n    paddingTop: 10\n  },\n  tagcontainer:{\n    padding: 10, flexDirection:'row', paddingBottom: 10,\n    justifyContent:'space-between', \n    borderTopWidth: 1, borderTopColor: '#f0f0f0',\n    marginTop: 10,\n  },\n  vibe:{\n    color: '#2696b8', fontSize: 12,\n  },\n  views:{\n    color: '#c0c0c0', fontWeight: '500', \n  },\n  date:{\n    fontWeight: '500', color: '#c0c0c0'\n  }, \n  imageTag:{\n    marginLeft: 10, padding: 2, color: '#c0c0c0'\n  },\n  profileImage: {\n    borderRadius: 100,\n    width: 45,\n    height: 45,\n  },\n  usernameField: {\n    marginLeft: 6,\n    // alignItems: 'center',\n  },\n  userProfile: {\n    marginTop: 5,marginLeft: 5,\n    flexDirection: 'row',\n    alignItems:'center',\n  },\n  username:{\n    fontWeight: '500',\n    marginLeft: 5, marginTop: 5,\n  },\n  field:{\n    color: '#707070', marginLeft: 1,\n    marginTop: 5,\n  },\n  repostedText:{\n    color: '#c0c0c0', fontSize:13, marginHorizontal:5\n  },\n  reposted:{\n    flexDirection: 'row',\n    marginVertical: 3\n  }\n\n});\n\nexport default Snippet;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}