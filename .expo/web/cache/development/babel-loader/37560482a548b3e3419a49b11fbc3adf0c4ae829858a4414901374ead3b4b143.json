{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, React, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Border, Padding } from \"../GlobalStyles\";\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport PostTab from \"./LikeTab\";\nimport moment from 'moment';\nimport ImageView from \"../screens/ImageModal\";\nimport ThreeDot from \"./3-dotModal\";\nimport VisitUserProfile from \"./VisitUserProfile\";\nimport { getFirestore, doc, getDoc, onSnapshot, setDoc, deleteDoc, collection, query, where, serverTimestamp } from 'firebase/firestore';\nimport { db } from \"../firebase/firebase\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigation } from '@react-navigation/native';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Snippet = function Snippet(_ref) {\n  var post = _ref.post,\n    postId = _ref.postId;\n  var _useState = useState(\"now\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    timeAgo = _useState2[0],\n    setTimeAgo = _useState2[1];\n  var words = post.message.split(' ');\n  var navigation = useNavigation();\n  useEffect(function () {\n    if (post.createdAt) {\n      var now = moment();\n      var postTime = moment(post.createdAt.toDate());\n      var diff = moment.duration(now.diff(postTime));\n      if (diff.asSeconds() < 60) {\n        setTimeAgo(Math.floor(diff.asSeconds()) + \" seconds ago\");\n      } else if (diff.asMinutes() < 60) {\n        setTimeAgo(Math.floor(diff.asMinutes()) + \" minutes ago\");\n      } else if (diff.asHours() < 24) {\n        setTimeAgo(Math.floor(diff.asHours()) + \" hours ago\");\n      } else if (diff.asDays() <= 7) {\n        setTimeAgo(Math.floor(diff.asDays()) + \" days ago\");\n      } else {\n        setTimeAgo(postTime.format(\"DD MMM\"));\n      }\n    }\n  }, [post.createdAt]);\n  var userProfile = useSelector(function (state) {\n    return state.userProfile;\n  });\n  var currentUserId = userProfile.userId;\n  var defaultProfileImage = require(\"../assets/graduate.png\");\n  var _useState3 = useState('Student'),\n    _useState4 = _slicedToArray(_useState3, 2),\n    username = _useState4[0],\n    setUsername = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    profileImage = _useState6[0],\n    setProfileImage = _useState6[1];\n  var _useState7 = useState('Guest'),\n    _useState8 = _slicedToArray(_useState7, 2),\n    field = _useState8[0],\n    setField = _useState8[1];\n  var postUserId = post.userId;\n  useEffect(function () {\n    var fetchUserProfile = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        var db = getFirestore();\n        var userRef = doc(db, 'userProfiles', postUserId);\n        var userDoc = yield getDoc(userRef);\n        if (userDoc.exists()) {\n          var _userDoc$data = userDoc.data(),\n            _username = _userDoc$data.username,\n            profileImageUrl = _userDoc$data.profileImageUrl,\n            _field = _userDoc$data.field;\n          setUsername(_username);\n          setField(_field);\n          if (profileImageUrl) {\n            setProfileImage({\n              uri: profileImageUrl\n            });\n          }\n        }\n      });\n      return function fetchUserProfile() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    fetchUserProfile();\n  }, [postUserId]);\n  var handlePress = function handlePress() {\n    var isCurrentUser = currentUserId === postUserId;\n    if (!isCurrentUser) {\n      navigation.navigate('BottomTabsRoot', {\n        screen: 'VisitUserProfile',\n        params: {\n          postUserId: postUserId\n        }\n      });\n    } else {\n      navigation.navigate('BottomTabsRoot', {\n        screen: 'Account'\n      });\n    }\n  };\n  var handleTagged = function handleTagged(userId) {\n    var current = currentUserId === userId;\n    if (!current) {\n      navigation.navigate('BottomTabsRoot', {\n        screen: 'VisitUserProfile',\n        params: {\n          postUserId: userId\n        }\n      });\n    } else {\n      navigation.navigate('BottomTabsRoot', {\n        screen: 'Account'\n      });\n    }\n  };\n  return _jsxs(View, {\n    style: styles.snippet,\n    children: [_jsx(ThreeDot, {\n      postId: post.id,\n      postUserId: post.userId\n    }, post.id), _jsxs(Text, {\n      style: styles.topic,\n      children: [_jsx(FontAwesome5, {\n        name: post.topicTag,\n        size: 20,\n        color: \"#FF9900\"\n      }), post.topic]\n    }), _jsxs(TouchableOpacity, {\n      style: styles.userProfile,\n      onPress: handlePress,\n      activeOpacity: 0.8,\n      children: [_jsx(Image, {\n        style: styles.profileImage,\n        resizeMode: \"cover\",\n        source: profileImage || defaultProfileImage\n      }), _jsxs(View, {\n        style: styles.usernameField,\n        children: [_jsx(Text, {\n          style: styles.username,\n          children: username\n        }), _jsxs(Text, {\n          style: styles.field,\n          children: [\" \", field]\n        })]\n      })]\n    }), _jsx(View, {\n      style: styles.messageFlexBox,\n      children: _jsx(Text, {\n        style: styles.message,\n        children: words.map(function (word, index) {\n          if (word.startsWith('@')) {\n            var _username2 = word.substring(1);\n            var taggedUser = post.tagList.find(function (user) {\n              return user.username === _username2;\n            });\n            if (taggedUser) {\n              var userId = taggedUser.userId;\n              return _jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  return handleTagged(userId);\n                },\n                children: _jsxs(Text, {\n                  style: {\n                    color: '#2696b8',\n                    fontWeight: '500'\n                  },\n                  children: [word, ' ']\n                })\n              }, index);\n            }\n          }\n          return _jsxs(Text, {\n            children: [word, ' ']\n          }, index);\n        })\n      })\n    }), _jsx(View, {\n      style: styles.attachment,\n      children: post.downloadURL ? _jsxs(View, {\n        style: styles.attachment,\n        children: [_jsx(ImageView, {\n          image: post.downloadURL,\n          topicTag: post.topicTag,\n          postId: postId,\n          message: post.message,\n          topic: post.topic\n        }), post.imageTag ? _jsx(Text, {\n          style: styles.imageTag,\n          children: post.imageTag\n        }) : null]\n      }) : null\n    }), _jsx(PostTab, {\n      post: true,\n      postId: post.id\n    }), _jsxs(View, {\n      style: styles.tagcontainer,\n      children: [_jsx(Text, {\n        style: styles.time,\n        children: timeAgo\n      }), _jsxs(Text, {\n        style: styles.vibe,\n        children: [post.vibe, \" vibes\"]\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  snippet: {\n    backgroundColor: 'white',\n    paddingHorizontal: 10,\n    paddingBottom: 10,\n    marginBottom: 2,\n    borderBottomColor: '#f0f0f0',\n    borderBottomWidth: 1\n  },\n  topic: {\n    fontSize: 15,\n    fontWeight: \"500\",\n    width: '80%',\n    marginBottom: 10,\n    marginLeft: 5,\n    padding: 2\n  },\n  time: {\n    color: '#a0a0a0',\n    fontSize: 12,\n    fontWeight: \"500\",\n    marginLeft: 1\n  },\n  messageFlexBox: {\n    marginTop: 10\n  },\n  message: {\n    fontSize: 14\n  },\n  simmu22Icon: {\n    borderRadius: Border.br_3xs,\n    width: 349,\n    height: 158\n  },\n  image: {\n    padding: Padding.p_8xs,\n    marginTop: 5\n  },\n  customTopTabChild: {\n    display: \"none\"\n  },\n  customTopTabItem: {\n    marginLeft: 55,\n    display: \"none\"\n  },\n  customTopTab: {\n    alignItems: \"flex-end\",\n    marginTop: 5\n  },\n  attachment: {\n    paddingTop: 10\n  },\n  tagcontainer: {\n    padding: 10,\n    flexDirection: 'row',\n    paddingBottom: 10,\n    justifyContent: 'space-between',\n    borderTopWidth: 1,\n    borderTopColor: '#f0f0f0',\n    marginTop: 10\n  },\n  vibe: {\n    color: '#2696b8'\n  },\n  views: {\n    color: '#c0c0c0',\n    fontWeight: '500'\n  },\n  date: {\n    fontWeight: '500',\n    color: '#c0c0c0'\n  },\n  imageTag: {\n    marginLeft: 10,\n    padding: 2,\n    color: '#c0c0c0'\n  },\n  profileImage: {\n    borderRadius: 100,\n    width: 45,\n    height: 45\n  },\n  usernameField: {\n    marginLeft: 6\n  },\n  userProfile: {\n    marginTop: 5,\n    marginLeft: 5,\n    flexDirection: 'row'\n  },\n  username: {\n    fontWeight: '500',\n    marginLeft: 5,\n    marginTop: 5\n  },\n  field: {\n    color: '#404040',\n    marginLeft: 1,\n    marginTop: 5\n  }\n});\nexport default Snippet;","map":{"version":3,"names":["useState","React","useEffect","View","Text","Image","StyleSheet","TouchableOpacity","Border","Padding","FontAwesome5","PostTab","moment","ImageView","ThreeDot","VisitUserProfile","getFirestore","doc","getDoc","onSnapshot","setDoc","deleteDoc","collection","query","where","serverTimestamp","db","useSelector","useNavigation","jsx","_jsx","jsxs","_jsxs","Snippet","_ref","post","postId","_useState","_useState2","_slicedToArray","timeAgo","setTimeAgo","words","message","split","navigation","createdAt","now","postTime","toDate","diff","duration","asSeconds","Math","floor","asMinutes","asHours","asDays","format","userProfile","state","currentUserId","userId","defaultProfileImage","require","_useState3","_useState4","username","setUsername","_useState5","_useState6","profileImage","setProfileImage","_useState7","_useState8","field","setField","postUserId","fetchUserProfile","_ref2","_asyncToGenerator","userRef","userDoc","exists","_userDoc$data","data","profileImageUrl","uri","apply","arguments","handlePress","isCurrentUser","navigate","screen","params","handleTagged","current","style","styles","snippet","children","id","topic","name","topicTag","size","color","onPress","activeOpacity","resizeMode","source","usernameField","messageFlexBox","map","word","index","startsWith","substring","taggedUser","tagList","find","user","fontWeight","attachment","downloadURL","image","imageTag","tagcontainer","time","vibe","create","backgroundColor","paddingHorizontal","paddingBottom","marginBottom","borderBottomColor","borderBottomWidth","fontSize","width","marginLeft","padding","marginTop","simmu22Icon","borderRadius","br_3xs","height","p_8xs","customTopTabChild","display","customTopTabItem","customTopTab","alignItems","paddingTop","flexDirection","justifyContent","borderTopWidth","borderTopColor","views","date"],"sources":["/home/leo/Documents/Campus-Vibes-V1/mobile/components/snippet.js"],"sourcesContent":["import { useState, React, useEffect } from \"react\";\nimport {View,Text, Image,StyleSheet, TouchableOpacity,} from \"react-native\";\nimport {  Border, Padding } from \"../GlobalStyles\";\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport PostTab from \"./LikeTab\";\nimport moment from 'moment';\nimport ImageView from \"../screens/ImageModal\";\nimport ThreeDot from \"./3-dotModal\";\nimport VisitUserProfile from \"./VisitUserProfile\";\nimport { getFirestore, doc, getDoc, onSnapshot, setDoc, deleteDoc, collection, query, where, serverTimestamp } from 'firebase/firestore';\nimport { db } from \"../firebase/firebase\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigation } from '@react-navigation/native';\n\n\nconst Snippet = ({ post, postId}) => {\n  const [timeAgo, setTimeAgo] = useState(\"now\");\n  const words = post.message.split(' ');\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    if (post.createdAt) {\n      const now = moment();\n      const postTime = moment(post.createdAt.toDate());\n      const diff = moment.duration(now.diff(postTime));\n  \n      if (diff.asSeconds() < 60) {\n        setTimeAgo(`${Math.floor(diff.asSeconds())} seconds ago`);\n      } else if (diff.asMinutes() < 60) {\n        setTimeAgo(`${Math.floor(diff.asMinutes())} minutes ago`);\n      } else if (diff.asHours() < 24) {\n        setTimeAgo(`${Math.floor(diff.asHours())} hours ago`);\n      } else if (diff.asDays() <= 7) {\n        setTimeAgo(`${Math.floor(diff.asDays())} days ago`);\n      } else {\n        setTimeAgo(postTime.format(\"DD MMM\"));\n      }\n    }\n  }, [post.createdAt]);\n \n\n  \n  \n  \n  \n\n   // Current user details\n   const userProfile = useSelector((state => state.userProfile))\n   const currentUserId = userProfile.userId;\n \n      // Fecth user profile using userId\n   const defaultProfileImage = require('../assets/graduate.png');\n   const [username, setUsername] = useState('Student');\n   const [profileImage, setProfileImage] = useState(null);\n   const [field, setField] = useState('Guest');\n   const postUserId = post.userId;\n \n   useEffect(() => {\n     const fetchUserProfile = async () => {\n       const db = getFirestore();\n       const userRef = doc(db, 'userProfiles', postUserId);\n       const userDoc = await getDoc(userRef);\n      \n       if (userDoc.exists()) {\n         const { username, profileImageUrl, field } = userDoc.data();\n         setUsername(username)\n         setField(field)\n         if (profileImageUrl) {\n           setProfileImage({ uri: profileImageUrl });\n         } \n       }\n     };\n     fetchUserProfile();\n   }, [postUserId]);\n\n\n  const handlePress = () => {\n    const isCurrentUser = currentUserId === postUserId;  \n    if(!isCurrentUser){\n      navigation.navigate('BottomTabsRoot', {\n        screen: 'VisitUserProfile',\n        params: { postUserId: postUserId }\n      });\n    }else{\n      navigation.navigate('BottomTabsRoot', {screen: 'Account'})\n    }\n  };\n\n  const handleTagged = (userId) => {\n    const current = currentUserId === userId;\n    if(!current){\n    navigation.navigate('BottomTabsRoot', {\n      screen: 'VisitUserProfile',\n      params: { postUserId: userId }\n    });\n  }else{\n    navigation.navigate('BottomTabsRoot', {screen: 'Account'})\n  }\n  };\n  \n\n  return (\n    <View style={styles.snippet}>\n      <ThreeDot  \n         postId={post.id} \n         postUserId={post.userId} \n         key={post.id}/>\n        <Text style={styles.topic}>\n          <FontAwesome5 name={post.topicTag} size={20} color=\"#FF9900\" />\n            {post.topic} \n        </Text>\n        \n        <TouchableOpacity style={styles.userProfile}  onPress={handlePress} activeOpacity={0.8}>\n             <Image \n               style={styles.profileImage} \n               resizeMode=\"cover\"\n               source={profileImage || defaultProfileImage}\n             />\n             <View style={styles.usernameField}>\n                <Text style={styles.username}>{username}</Text>\n                <Text style={styles.field}> {field}</Text>\n              </View>    \n           </TouchableOpacity>\n\n        <View style={styles.messageFlexBox}>\n        <Text style={styles.message}>\n  {words.map((word, index) => {\n    if (word.startsWith('@')) {\n      const username = word.substring(1); // Remove the '@' symbol\n      const taggedUser = post.tagList.find((user) => user.username === username);\n      if (taggedUser) {\n        const { userId } = taggedUser;\n        return (\n          <TouchableOpacity key={index} onPress={() => handleTagged(userId)}>\n            <Text style={{ color: '#2696b8', fontWeight: '500' }}>\n              {word}{' '}\n            </Text>\n          </TouchableOpacity>\n        );\n      }\n    }\n    return (\n      <Text key={index}>\n        {word}{' '}\n      </Text>\n    );\n  })}\n</Text>\n\n\n        </View>\n\n     \n\n      <View style={styles.attachment}>\n      {post.downloadURL ? (\n  <View style={styles.attachment}>\n    <ImageView\n        image={post.downloadURL}\n        topicTag = {post.topicTag}\n        postId={postId}\n        message={post.message}\n        topic={post.topic}/>\n    {post.imageTag ? (\n      <Text style={styles.imageTag}>{post.imageTag}</Text>\n    ) : null}\n  </View>\n) : null}\n\n\n     </View>\n     <PostTab \n        post\n       postId={post.id}\n     />\n      <View style={styles.tagcontainer}>\n      <Text style={styles.time}>\n          {timeAgo}\n        </Text>\n        {/* <Text style={styles.date}>{post.createdAt ? post.createdAt.toDate().toLocaleDateString() : ''}</Text> */}\n        <Text style={styles.vibe}>{post.vibe} vibes</Text>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  snippet: {\n    backgroundColor: 'white', \n    paddingHorizontal: 10,\n    paddingBottom: 10, marginBottom: 2,\n    borderBottomColor: '#f0f0f0', borderBottomWidth: 1,\n  },\n  topic: {\n    fontSize: 15,\n    fontWeight: \"500\",\n     width: '80%', \n     marginBottom: 10, marginLeft: 5,\n    //  borderWidth: 1,\n     padding: 2\n  },\n  time: {\n    color: '#a0a0a0',\n    fontSize: 12,\n    fontWeight: \"500\", marginLeft: 1,\n  },\n\n  messageFlexBox: {\n    marginTop: 10,\n  },\n\n  message: {\n    fontSize: 14, \n  },\n  simmu22Icon: {\n    borderRadius: Border.br_3xs,\n    width: 349,\n    height: 158,\n  },\n  image: {\n    padding: Padding.p_8xs,\n    marginTop: 5,\n  },\n  customTopTabChild: {\n    display: \"none\",\n  },\n  customTopTabItem: {\n    marginLeft: 55,\n    display: \"none\",\n  },\n  customTopTab: {\n    alignItems: \"flex-end\",\n    marginTop: 5,\n  },\n  attachment:{\n    paddingTop: 10\n  },\n  tagcontainer:{\n    padding: 10, flexDirection:'row', paddingBottom: 10,\n    justifyContent:'space-between', \n    borderTopWidth: 1, borderTopColor: '#f0f0f0',\n    marginTop: 10,\n  },\n  vibe:{\n    color: '#2696b8'\n  },\n  views:{\n    color: '#c0c0c0', fontWeight: '500', \n  },\n  date:{\n    fontWeight: '500', color: '#c0c0c0'\n  }, \n  imageTag:{\n    marginLeft: 10, padding: 2, color: '#c0c0c0'\n  },\n  profileImage: {\n    borderRadius: 100,\n    width: 45,\n    height: 45,\n  },\n  usernameField: {\n    marginLeft: 6,\n    // alignItems: 'center',\n  },\n  userProfile: {\n    marginTop: 5,marginLeft: 5,\n    flexDirection: 'row',\n  },\n  username:{\n    fontWeight: '500',\n    marginLeft: 5, marginTop: 5,\n  },\n  field:{\n    color: '#404040', marginLeft: 1,\n    marginTop: 5,\n  },\n\n});\n\nexport default Snippet;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}