{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { getFirestore, updateDoc, doc, getDoc, onSnapshot } from \"firebase/firestore\";\nimport { db } from \"../firebase/firebase\";\nimport { useSelector } from 'react-redux';\nimport PostModal from \"../screens/Comments.js\";\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport ShareModal from \"./ShareModal\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar PostTab = function PostTab(_ref) {\n  var postId = _ref.postId,\n    postUserId = _ref.postUserId,\n    type = _ref.type;\n  var userId = useSelector(function (state) {\n    return state.userProfile.userId;\n  });\n  var isCurrentUserPost = userId === postUserId;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    liked = _useState2[0],\n    setLiked = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    disliked = _useState4[0],\n    setDisliked = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    likeCount = _useState6[0],\n    setLikeCount = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    dislikeCount = _useState8[0],\n    setDislikeCount = _useState8[1];\n  var formatNumber = function formatNumber(number) {\n    var abbreviations = [{\n      value: 1e12,\n      symbol: 'T'\n    }, {\n      value: 1e9,\n      symbol: 'B'\n    }, {\n      value: 1e6,\n      symbol: 'M'\n    }, {\n      value: 1e3,\n      symbol: 'k'\n    }];\n    for (var abbreviation of abbreviations) {\n      if (number >= abbreviation.value) {\n        return (number / abbreviation.value).toFixed(1).replace(/\\.0$/, '') + abbreviation.symbol;\n      }\n    }\n    return number.toString();\n  };\n  useEffect(function () {\n    var unsubscribe = onSnapshot(doc(db, 'Posts', postId), function (doc) {\n      var _doc$data, _doc$data2;\n      var likes = ((_doc$data = doc.data()) == null ? void 0 : _doc$data.likes) || [];\n      var dislikes = ((_doc$data2 = doc.data()) == null ? void 0 : _doc$data2.dislikes) || [];\n      setLikeCount(formatNumber(likes.length));\n      setDislikeCount(formatNumber(dislikes.length));\n      setLiked(likes.includes(userId));\n      setDisliked(dislikes.includes(userId));\n    });\n    return unsubscribe;\n  }, [postId, userId]);\n  var handleLike = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!liked) {\n        setLiked(true);\n        if (disliked) {\n          setDisliked(false);\n          yield updateDislikes(postId, userId, false);\n        }\n        yield updateLikes(postId, userId, true);\n      } else {\n        setLiked(false);\n        yield updateLikes(postId, userId, false);\n      }\n    });\n    return function handleLike() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleDislike = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (!disliked) {\n        setDisliked(true);\n        if (liked) {\n          setLiked(false);\n          yield updateLikes(postId, userId, false);\n        }\n        yield updateDislikes(postId, userId, true);\n      } else {\n        setDisliked(false);\n        yield updateDislikes(postId, userId, false);\n      }\n    });\n    return function handleDislike() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var updateLikes = function () {\n    var _ref4 = _asyncToGenerator(function* (postId, userId, add) {\n      try {\n        var postRef = doc(db, \"Posts\", postId);\n        var postDoc = yield getDoc(postRef);\n        var likes = postDoc.data().likes || [];\n        if (add) {\n          likes.push(userId);\n        } else {\n          var index = likes.indexOf(userId);\n          if (index !== -1) {\n            likes.splice(index, 1);\n          }\n        }\n        yield updateDoc(postRef, {\n          likes: likes\n        });\n      } catch (error) {\n        console.error(\"Error updating post likes: \", error);\n      }\n    });\n    return function updateLikes(_x, _x2, _x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var updateDislikes = function () {\n    var _ref5 = _asyncToGenerator(function* (postId, userId, add) {\n      try {\n        var postRef = doc(db, \"Posts\", postId);\n        var postDoc = yield getDoc(postRef);\n        var dislikes = postDoc.data().dislikes || [];\n        if (add) {\n          dislikes.push(userId);\n        } else {\n          var index = dislikes.indexOf(userId);\n          if (index !== -1) {\n            dislikes.splice(index, 1);\n          }\n        }\n        yield updateDoc(postRef, {\n          dislikes: dislikes\n        });\n      } catch (error) {\n        console.error(\"Error updating post dislikes: \", error);\n      }\n    });\n    return function updateDislikes(_x4, _x5, _x6) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var handleComment = function handleComment() {\n    setCommentsModalVisible(!commentsModalVisible);\n  };\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    commentsModalVisible = _useState10[0],\n    setCommentsModalVisible = _useState10[1];\n  function openComments(postId) {\n    setCommentsModalVisible(true);\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(TouchableOpacity, {\n      onPress: handleLike,\n      children: _jsxs(View, {\n        style: styles.row,\n        children: [liked ? _jsx(Image, {\n          source: require(\"../assets/Like.png\"),\n          style: styles.iconlike\n        }) : _jsx(Image, {\n          source: require(\"../assets/Likeinactive.png\"),\n          style: styles.iconlike\n        }), _jsx(Text, {\n          style: styles.count,\n          children: likeCount\n        })]\n      })\n    }), _jsx(TouchableOpacity, {\n      onPress: handleDislike,\n      children: _jsxs(View, {\n        style: styles.row,\n        children: [disliked ? _jsx(Image, {\n          source: require(\"../assets/dislike.png\"),\n          style: styles.icondislike\n        }) : _jsx(Image, {\n          source: require(\"../assets/dislikeinactive.png\"),\n          style: styles.icondislike\n        }), _jsx(Text, {\n          style: styles.count,\n          children: dislikeCount\n        })]\n      })\n    }), _jsx(PostModal, {\n      postId: postId,\n      modalVisible: commentsModalVisible,\n      setModalVisible: setCommentsModalVisible\n    }), _jsx(ShareModal, {\n      postId: postId,\n      current: isCurrentUserPost\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    left: 0,\n    right: 0,\n    justifyContent: 'space-between',\n    paddingTop: 10,\n    paddingHorizontal: 20\n  },\n  like: {\n    flexDirection: 'row'\n  },\n  count: {\n    fontSize: 13,\n    fontWeight: '500',\n    color: '#a0a0a0',\n    marginLeft: 5,\n    marginTop: 4\n  },\n  iconlike: {\n    width: 22,\n    height: 22\n  },\n  icondislike: {\n    width: 25,\n    height: 25\n  },\n  row: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  }\n});\nexport default PostTab;","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","TouchableOpacity","Image","getFirestore","updateDoc","doc","getDoc","onSnapshot","db","useSelector","PostModal","FontAwesome5","ShareModal","jsx","_jsx","jsxs","_jsxs","PostTab","_ref","postId","postUserId","type","userId","state","userProfile","isCurrentUserPost","_useState","_useState2","_slicedToArray","liked","setLiked","_useState3","_useState4","disliked","setDisliked","_useState5","_useState6","likeCount","setLikeCount","_useState7","_useState8","dislikeCount","setDislikeCount","formatNumber","number","abbreviations","value","symbol","abbreviation","toFixed","replace","toString","unsubscribe","_doc$data","_doc$data2","likes","data","dislikes","length","includes","handleLike","_ref2","_asyncToGenerator","updateDislikes","updateLikes","apply","arguments","handleDislike","_ref3","_ref4","add","postRef","postDoc","push","index","indexOf","splice","error","console","_x","_x2","_x3","_ref5","_x4","_x5","_x6","handleComment","setCommentsModalVisible","commentsModalVisible","_useState9","_useState10","openComments","style","styles","container","children","onPress","row","source","require","iconlike","count","icondislike","modalVisible","setModalVisible","current","create","flexDirection","alignItems","left","right","justifyContent","paddingTop","paddingHorizontal","like","fontSize","fontWeight","color","marginLeft","marginTop","width","height"],"sources":["C:/Users/Alus/Downloads/Campus-Vibes-V1-main/Campus-Vibes-V1-main/mobile/components/LikeTab.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Image} from 'react-native';\nimport { getFirestore, updateDoc, doc , getDoc, onSnapshot} from \"firebase/firestore\";\nimport { db } from \"../firebase/firebase\";\nimport { useSelector } from 'react-redux';\nimport PostModal from \"../screens/Comments.js\";\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport ShareModal from './ShareModal';\n\n\nconst PostTab = ({postId, postUserId, type}) => {\n  const userId = useSelector((state) => state.userProfile.userId);\n  const isCurrentUserPost = userId === postUserId;\n  const [liked, setLiked] = useState(false);\n  const [disliked, setDisliked] = useState(false);\n  const [likeCount, setLikeCount] = useState('');\n  const [dislikeCount, setDislikeCount] = useState('');\n\n// Function to convert large numbers to abbreviated format\nconst formatNumber = (number) => {\n  const abbreviations = [\n    { value: 1e12, symbol: 'T' },\n    { value: 1e9, symbol: 'B' },\n    { value: 1e6, symbol: 'M' },\n    { value: 1e3, symbol: 'k' },\n  ];\n\n  for (const abbreviation of abbreviations) {\n    if (number >= abbreviation.value) {\n      return (number / abbreviation.value).toFixed(1).replace(/\\.0$/, '') + abbreviation.symbol;\n    }\n  }\n\n  return number.toString();\n};\n\n\n\n  useEffect(() => {\n    const unsubscribe = onSnapshot(doc(db, 'Posts', postId), (doc) => {\n      const likes = doc.data()?.likes || [];\n      const dislikes = doc.data()?.dislikes || [];\n      setLikeCount(formatNumber(likes.length));\n      setDislikeCount(formatNumber(dislikes.length));\n      setLiked(likes.includes(userId));\n      setDisliked(dislikes.includes(userId));\n    });\n\n    return unsubscribe;\n  }, [postId, userId]);\n\n  \n  const handleLike = async () => {\n    if (!liked) {\n      setLiked(true);\n      if (disliked) {\n        setDisliked(false);\n        await updateDislikes(postId, userId, false);\n      }\n      await updateLikes(postId, userId, true);\n    } else {\n      setLiked(false);\n      await updateLikes(postId, userId, false);\n    }\n  };\n  \n  const handleDislike = async () => {\n    if (!disliked) {\n      setDisliked(true);\n      if (liked) {\n        setLiked(false);\n        await updateLikes(postId, userId, false);\n      }\n      await updateDislikes(postId, userId, true);\n    } else {\n      setDisliked(false);\n      await updateDislikes(postId, userId, false);\n    }\n  };\n  \n  const updateLikes = async (postId, userId, add) => {\n    try {\n      const postRef = doc(db, \"Posts\", postId);\n      const postDoc = await getDoc(postRef);\n      const likes = postDoc.data().likes || [];\n      if (add) {\n        likes.push(userId);\n      } else {\n        const index = likes.indexOf(userId);\n        if (index !== -1) {\n          likes.splice(index, 1);\n        }\n      }\n      await updateDoc(postRef, { likes });\n    } catch (error) {\n      console.error(\"Error updating post likes: \", error);\n    }\n  };\n  \n  const updateDislikes = async (postId, userId, add) => {\n    try {\n      const postRef = doc(db, \"Posts\", postId);\n      const postDoc = await getDoc(postRef);\n      const dislikes = postDoc.data().dislikes || [];\n      if (add) {\n        dislikes.push(userId);\n      } else {\n        const index = dislikes.indexOf(userId);\n        if (index !== -1) {\n          dislikes.splice(index, 1);\n        }\n      }\n      await updateDoc(postRef, { dislikes });\n    } catch (error) {\n      console.error(\"Error updating post dislikes: \", error);\n    }\n  };\n  \n  \n  const handleComment = () => {\n    setCommentsModalVisible(!commentsModalVisible);\n  };\n\n\n   // open comments with modal\n   const [commentsModalVisible, setCommentsModalVisible] = useState(false);\n   function openComments(postId) {\n     setCommentsModalVisible(true);\n   }\n\n\n  return (\n    <View style={styles.container}>\n      \n      <TouchableOpacity onPress={handleLike}>\n        <View style={styles.row}>\n        {liked ? (\n          <Image source={require('../assets/Like.png')} style={styles.iconlike} />\n        ) : (\n          <Image source={require('../assets/Likeinactive.png')} style={styles.iconlike} />\n        )}\n        <Text style={styles.count}>{likeCount}</Text>\n        </View>\n      </TouchableOpacity>\n\n\n      <TouchableOpacity onPress={handleDislike}>\n      <View style={styles.row}>\n        {disliked ? (\n          <Image source={require('../assets/dislike.png')} style={styles.icondislike} />\n        ) : (\n          <Image source={require('../assets/dislikeinactive.png')} style={styles.icondislike} />\n        )}\n        <Text style={styles.count}>{dislikeCount}</Text>\n        </View>\n      </TouchableOpacity>\n\n      <PostModal\n        postId={postId}\n        modalVisible={commentsModalVisible}\n       setModalVisible={setCommentsModalVisible}\n      />\n      <ShareModal postId={postId} current={isCurrentUserPost}/>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    // width: 350,\n    alignItems: 'center',\n   \n    left: 0, right: 0,\n    justifyContent:'space-between',\n    paddingTop: 10,\n     paddingHorizontal: 20\n  },\n  like:{\n    flexDirection: 'row',\n  },\n  count: {\n    fontSize: 13, fontWeight: '500', color: '#a0a0a0',\n    marginLeft: 5, marginTop: 4,\n  },\n  iconlike: {\n    width: 22,\n    height: 22,\n  },\n  icondislike: {\n    width: 25,\n    height: 25,\n  },\n  row:{\n    flexDirection: 'row',\n    alignItems:'center'\n  }\n});\n\nexport default PostTab;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}