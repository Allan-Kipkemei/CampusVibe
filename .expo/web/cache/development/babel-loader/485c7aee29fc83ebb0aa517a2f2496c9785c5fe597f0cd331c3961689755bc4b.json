{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { FontAwesome5, Feather, Ionicons, MaterialIcons } from '@expo/vector-icons';\nimport { db } from \"../firebase/firebase\";\nimport { deleteDoc, doc, collection, getDoc, updateDoc, serverTimestamp, onSnapshot, where, setDoc, query } from 'firebase/firestore';\nimport { useSelector } from 'react-redux';\nimport { useNavigation } from \"@react-navigation/native\";\nimport RepostModal from \"./Repost\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ThreeDot = function ThreeDot(_ref) {\n  var postId = _ref.postId,\n    postUserId = _ref.postUserId;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    modalVisible = _useState2[0],\n    setModalVisible = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setLoading = _useState4[1];\n  var userProfile = useSelector(function (state) {\n    return state.userProfile;\n  });\n  var currentUserId = userProfile.userId;\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isFollowing = _useState6[0],\n    setIsFollowing = _useState6[1];\n  var isCurrentUserPost = currentUserId === postUserId;\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    followingMe = _useState8[0],\n    setFollowingMe = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    isPinned = _useState10[0],\n    setPinned = _useState10[1];\n  var navigation = useNavigation();\n  var handleDelete = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        yield deleteDoc(doc(db, 'Posts', postId));\n        console.log('Post deleted successfully!');\n      } catch (error) {\n        console.error('Error deleting post: ', error);\n      }\n      setLoading(false);\n      setModalVisible(false);\n    });\n    return function handleDelete() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  if (!isCurrentUserPost) {\n    useEffect(function () {\n      var userDocRef = doc(db, 'userProfiles', currentUserId);\n      var followingRef = collection(userDocRef, 'following');\n      var followersRef = collection(userDocRef, 'followers');\n      var followingUnsubscribe = onSnapshot(query(followingRef, where('userId', '==', postUserId)), function (snapshot) {\n        setIsFollowing(!snapshot.empty);\n      });\n      var followersUnsubscribe = onSnapshot(query(followersRef, where('userId', '==', postUserId)), function (snapshot) {\n        setFollowingMe(!snapshot.empty);\n      });\n      return function () {\n        followingUnsubscribe();\n        followersUnsubscribe();\n      };\n    }, [postUserId, currentUserId]);\n  }\n  var handleFollow = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var userDocRef = doc(db, 'userProfiles', currentUserId);\n      var userDocRef2 = doc(db, 'userProfiles', postUserId);\n      var followingRef = collection(userDocRef, 'following');\n      var followersRef = collection(userDocRef2, 'followers');\n      if (isFollowing) {\n        try {\n          yield deleteDoc(doc(followingRef, postUserId));\n          yield deleteDoc(doc(followersRef, currentUserId));\n          setIsFollowing(false);\n        } catch (error) {\n          console.error('Error following/unfollowing user: ', error);\n        }\n      } else {\n        try {\n          yield setDoc(doc(followingRef, postUserId), {\n            createdAt: serverTimestamp(),\n            userId: postUserId\n          });\n          yield setDoc(doc(followersRef, currentUserId), {\n            createdAt: serverTimestamp(),\n            userId: currentUserId\n          });\n          setIsFollowing(true);\n        } catch (error) {\n          console.error('Error following/unfollowing user: ', error);\n        }\n      }\n      ;\n    });\n    return function handleFollow() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handlePin = function handlePin() {};\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    repostVisible = _useState12[0],\n    setRepostVisible = _useState12[1];\n  var _useState13 = useState(null),\n    _useState14 = _slicedToArray(_useState13, 2),\n    selectedPostId = _useState14[0],\n    setSelectedPostId = _useState14[1];\n  var handleRepost = function handleRepost(postId) {\n    setSelectedPostId(postId);\n    setRepostVisible(true);\n  };\n  var handleModalClose = function handleModalClose() {\n    setRepostVisible(false);\n    setModalVisible(false);\n  };\n  function handleSave() {}\n  function handleReport() {}\n  return _jsxs(View, {\n    style: styles.postContainer,\n    children: [_jsx(TouchableOpacity, {\n      style: styles.optionsButton,\n      onPress: function onPress() {\n        return setModalVisible(true);\n      },\n      children: _jsx(FontAwesome5, {\n        name: \"ellipsis-v\",\n        size: 14,\n        color: \"#a0a0a0\"\n      })\n    }), _jsx(Modal, {\n      animationType: \"slide\",\n      transparent: true,\n      visible: modalVisible,\n      children: _jsxs(View, {\n        style: styles.modalContainer,\n        children: [!isCurrentUserPost ? _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: function onPress() {\n            return handleRepost(postId);\n          },\n          children: [_jsx(Feather, {\n            name: \"repeat\",\n            size: 20,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: \"Repost\"\n          })]\n        }) : null, repostVisible && selectedPostId && _jsx(RepostModal, {\n          postId: selectedPostId,\n          isVisible: repostVisible,\n          onClose: handleModalClose\n        }), isCurrentUserPost ? _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: handleRepost,\n          children: [_jsx(Feather, {\n            name: \"edit\",\n            size: 20,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: \"Edit \"\n          })]\n        }) : null, isCurrentUserPost ? _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: handlePin,\n          children: [_jsx(FontAwesome5, {\n            name: \"map-pin\",\n            size: 20,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: isPinned ? 'Pin to my profile' : 'Unpin from profile'\n          })]\n        }) : null, isCurrentUserPost ? _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: handleDelete,\n          children: [isLoading ? _jsx(ActivityIndicator, {\n            size: 'small',\n            color: '#2696b8'\n          }) : _jsx(MaterialIcons, {\n            name: \"delete-outline\",\n            size: 24,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: \"Delete Post\"\n          })]\n        }) : _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: handleFollow,\n          children: [isFollowing ? _jsx(Feather, {\n            name: \"user-minus\",\n            size: 20,\n            color: \"black\"\n          }) : _jsx(Feather, {\n            name: \"user-plus\",\n            size: 20,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: isFollowing ? 'Unfollow' : 'Follow'\n          })]\n        }), !isCurrentUserPost ? _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: handleSave,\n          children: [_jsx(Feather, {\n            name: \"bookmark\",\n            size: 20,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: \"Add to favourites\"\n          }), isLoading && _jsx(ActivityIndicator, {\n            size: 'small',\n            color: '#2696b8'\n          })]\n        }) : null, !isCurrentUserPost ? _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: handleReport,\n          children: [_jsx(Feather, {\n            name: \"alert-triangle\",\n            size: 20,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: \"Report\"\n          })]\n        }) : null, _jsxs(TouchableOpacity, {\n          style: styles.modalOption,\n          onPress: function onPress() {\n            return setModalVisible(false);\n          },\n          children: [_jsx(Ionicons, {\n            name: \"close\",\n            size: 24,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.modalOptionText,\n            children: \"Cancel\"\n          })]\n        })]\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  postContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 8\n  },\n  optionsButton: {\n    position: 'absolute',\n    right: 0,\n    top: 0,\n    paddingHorizontal: 15,\n    paddingVertical: 22\n  },\n  modalContainer: {\n    borderWidth: 1,\n    borderColor: '#f0f0f0',\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: 'white',\n    borderTopLeftRadius: 25,\n    borderTopRightRadius: 25,\n    padding: 10\n  },\n  modalOption: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 16,\n    paddingHorizontal: 2\n  },\n  modalOptionText: {\n    fontWeight: '500',\n    marginLeft: 10\n  }\n});\nexport default ThreeDot;","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","TouchableOpacity","Modal","ActivityIndicator","FontAwesome5","Feather","Ionicons","MaterialIcons","db","deleteDoc","doc","collection","getDoc","updateDoc","serverTimestamp","onSnapshot","where","setDoc","query","useSelector","useNavigation","RepostModal","jsx","_jsx","jsxs","_jsxs","ThreeDot","_ref","postId","postUserId","_useState","_useState2","_slicedToArray","modalVisible","setModalVisible","_useState3","_useState4","isLoading","setLoading","userProfile","state","currentUserId","userId","_useState5","_useState6","isFollowing","setIsFollowing","isCurrentUserPost","_useState7","_useState8","followingMe","setFollowingMe","_useState9","_useState10","isPinned","setPinned","navigation","handleDelete","_ref2","_asyncToGenerator","console","log","error","apply","arguments","userDocRef","followingRef","followersRef","followingUnsubscribe","snapshot","empty","followersUnsubscribe","handleFollow","_ref3","userDocRef2","createdAt","handlePin","_useState11","_useState12","repostVisible","setRepostVisible","_useState13","_useState14","selectedPostId","setSelectedPostId","handleRepost","handleModalClose","handleSave","handleReport","style","styles","postContainer","children","optionsButton","onPress","name","size","color","animationType","transparent","visible","modalContainer","modalOption","modalOptionText","isVisible","onClose","create","flexDirection","alignItems","paddingHorizontal","paddingVertical","position","right","top","borderWidth","borderColor","bottom","left","backgroundColor","borderTopLeftRadius","borderTopRightRadius","padding","fontWeight","marginLeft"],"sources":["C:/Users/Alus/Downloads/Campus-Vibes-V1-main/Campus-Vibes-V1-main/mobile/components/3-dotModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal, ActivityIndicator} from 'react-native';\nimport { FontAwesome5, Feather, Ionicons, MaterialIcons} from '@expo/vector-icons';\nimport { db } from '../firebase/firebase';\nimport { deleteDoc, doc,collection,getDoc, updateDoc, serverTimestamp, onSnapshot, where, setDoc, query        } from 'firebase/firestore';\nimport { useSelector } from 'react-redux';\nimport { useNavigation } from \"@react-navigation/native\";\nimport RepostModal from './Repost';\n\n\nconst ThreeDot = ({ postId, postUserId }) => {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const userProfile = useSelector((state) => state.userProfile);\n  const currentUserId = userProfile.userId;\n  const [isFollowing, setIsFollowing] = useState(false);\n  const isCurrentUserPost = currentUserId === postUserId;\n  const [followingMe, setFollowingMe] = useState(false);\n  const [isPinned, setPinned] = useState(false)\n  const navigation = useNavigation();\n\n\n// if the post is owned by the current user\n  const handleDelete = async () => {\n    try {\n      setLoading(true);\n      await deleteDoc(doc(db, 'Posts', postId));\n      console.log('Post deleted successfully!');\n    } catch (error) {\n      console.error('Error deleting post: ', error);\n    }\n    setLoading(false);\n    setModalVisible(false);\n  };\n\n// If the post isnt owned by current user\n// Check if current user is following the post creator\n  if (!isCurrentUserPost) {\n    useEffect(() => {\n      const userDocRef = doc(db, 'userProfiles', currentUserId);\n      const followingRef = collection(userDocRef, 'following');\n      const followersRef = collection(userDocRef, 'followers');\n    \n      const followingUnsubscribe = onSnapshot(query(followingRef, where('userId', '==', postUserId)), (snapshot) => {\n        setIsFollowing(!snapshot.empty);\n      });\n    \n      const followersUnsubscribe = onSnapshot(query(followersRef, where('userId', '==', postUserId)), (snapshot) => {\n        setFollowingMe(!snapshot.empty);\n      });\n    \n      return () => {\n        followingUnsubscribe();\n        followersUnsubscribe();\n      };\n    }, [postUserId, currentUserId]);\n    }      \n\n\n// Handle function according to whether the current user is follwoing the post creator or not\nconst handleFollow = async () => {\n  const userDocRef = doc(db, 'userProfiles', currentUserId);\n  const userDocRef2 = doc(db, 'userProfiles', postUserId);\n  const followingRef = collection(userDocRef, 'following');\n  const followersRef = collection(userDocRef2, 'followers');\n  \n  if (isFollowing) {\n    try {\n      await deleteDoc(doc(followingRef, postUserId));\n      await deleteDoc(doc(followersRef, currentUserId))\n      setIsFollowing(false);\n    } catch (error) {\n      console.error('Error following/unfollowing user: ', error);\n    }\n  } else {\n    try {\n      await setDoc(doc(followingRef, postUserId), { createdAt: serverTimestamp(), userId: postUserId });\n      await setDoc(doc(followersRef, currentUserId), { createdAt: serverTimestamp(), userId: currentUserId });\n      setIsFollowing(true);\n    } catch (error) {\n      console.error('Error following/unfollowing user: ', error);\n    }\n  };\n}\n\nconst handlePin = () =>{\n  \n}\n\nconst [repostVisible, setRepostVisible] = useState(false);\nconst [selectedPostId, setSelectedPostId] = useState(null);\n\nconst handleRepost = (postId) => {\n  // Code to handle repost logic, and then open the modal\n  setSelectedPostId(postId);\n  setRepostVisible(true);\n};\n\nconst handleModalClose = () => {\n  setRepostVisible(false);\n  setModalVisible(false)\n};\n\n\nfunction handleSave(){}\nfunction handleReport(){}\n\n\n\n\n  return (\n    <View style={styles.postContainer}>\n      <TouchableOpacity style={styles.optionsButton} onPress={() => setModalVisible(true)}>\n        <FontAwesome5 name=\"ellipsis-v\" size={14} color=\"#a0a0a0\" />\n      </TouchableOpacity>\n\n      <Modal animationType=\"slide\" transparent={true} visible={modalVisible}>\n        <View style={styles.modalContainer}>\n          \n\n          {/* other menus here */}\n          {!isCurrentUserPost? (\n               <TouchableOpacity style={styles.modalOption} onPress={() =>handleRepost(postId)}>\n                  <Feather name=\"repeat\" size={20} color=\"black\" />\n                  <Text style={styles.modalOptionText}>Repost</Text>\n               </TouchableOpacity>\n            ) : (null)}\n              {repostVisible && selectedPostId && (\n              <RepostModal\n                 postId={selectedPostId}\n                 isVisible={repostVisible}\n                 onClose={handleModalClose}\n               />\n              )}\n\n             {isCurrentUserPost? (\n               <TouchableOpacity style={styles.modalOption} onPress={handleRepost}>\n                  <Feather name=\"edit\" size={20} color=\"black\" />\n                  <Text style={styles.modalOptionText}>Edit </Text>\n               </TouchableOpacity>\n            ) : (null)}\n\n             {isCurrentUserPost? (\n               <TouchableOpacity style={styles.modalOption} onPress={handlePin}>\n                  <FontAwesome5 name=\"map-pin\" size={20} color=\"black\" />\n                  <Text style={styles.modalOptionText}>\n                    {isPinned ? ('Pin to my profile') : ('Unpin from profile')}\n                    </Text>\n               </TouchableOpacity>\n            ) : (null)}\n            \n          {isCurrentUserPost ? (\n           <TouchableOpacity style={styles.modalOption} onPress={handleDelete}>\n              \n              {isLoading ? (<ActivityIndicator size={'small'} color={'#2696b8'}/>)\n              :(<MaterialIcons name=\"delete-outline\" size={24} color=\"black\" />)}          \n               <Text style={styles.modalOptionText}>Delete Post</Text>\n             </TouchableOpacity>\n           ) : (\n            <TouchableOpacity style={styles.modalOption} onPress={handleFollow}>\n              {isFollowing ? (<Feather name=\"user-minus\" size={20} color=\"black\" />) : (\n                <Feather name=\"user-plus\" size={20} color=\"black\" />\n              )}\n               <Text style={styles.modalOptionText}>\n               {isFollowing ? 'Unfollow' : 'Follow'}\n               </Text>\n             </TouchableOpacity>\n            )}\n          \n               {!isCurrentUserPost? (\n               <TouchableOpacity style={styles.modalOption} onPress={handleSave}>\n                  <Feather name=\"bookmark\" size={20} color=\"black\" />\n                  <Text style={styles.modalOptionText}>Add to favourites</Text>\n                  {isLoading && (<ActivityIndicator size={'small'} color={'#2696b8'}/>)}\n               </TouchableOpacity>\n            ) : (null)}\n\n               {!isCurrentUserPost? (\n               <TouchableOpacity style={styles.modalOption} onPress={handleReport}>\n                  <Feather name=\"alert-triangle\" size={20} color=\"black\" />\n                  <Text style={styles.modalOptionText}>Report</Text>\n               </TouchableOpacity>\n            ) : (null)}\n\n          <TouchableOpacity style={styles.modalOption} onPress={() => setModalVisible(false)}>\n            <Ionicons name=\"close\" size={24} color=\"black\" />\n            <Text style={styles.modalOptionText}>Cancel</Text>\n          </TouchableOpacity>\n\n\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\n\nconst styles = StyleSheet.create({\n  postContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n  },\n  optionsButton: {\n    position:'absolute',\n    right: 0, top: 0,\n    // borderWidth:1,\n     paddingHorizontal: 15, paddingVertical:22\n  },\n  modalContainer: {\n    borderWidth: 1, borderColor: '#f0f0f0',\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: 'white',\n    borderTopLeftRadius: 25, borderTopRightRadius: 25,\n    padding: 10\n  },\n  modalOption: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 16, paddingHorizontal: 2,\n  },\n  modalOptionText: {\n    fontWeight: '500',\n    marginLeft: 10\n  },\n});\n\nexport default ThreeDot;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}